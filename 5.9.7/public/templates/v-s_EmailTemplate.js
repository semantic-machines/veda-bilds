"use strict";

System.register(["jquery"], function (_export, _context) {
  "use strict";

  var $, pre, html;
  return {
    setters: [function (_jquery) {
      $ = _jquery.default;
    }],
    execute: function () {
      _export("pre", pre = function pre(individual, template, container, mode, extra) {
        template = $(template);
        container = $(container);
        template.on('validate', function () {
          var result = {};
          var promises = individual['v-s:attachment'].map(function (attach) {
            return attach.getPropertyChain('v-s:fileSize');
          });
          return Promise.all(promises).then(function (fileSizeArr) {
            var fileSizeSUM = 0;
            fileSizeArr.forEach(function (fileSize) {
              fileSizeSUM += +fileSize;
            });
            if (fileSizeSUM > 15728640) {
              result['v-s:attachment'] = {
                state: false,
                cause: ['v-s:attachmentEmailBundle']
              };
            }
            template[0].dispatchEvent(new CustomEvent('validated', {
              detail: result
            }));
          });
        });
      });
      _export("html", html = "\n  <div class=\"container sheet\">\n    <h2>\n      <span about=\"v-s:Email\" property=\"rdfs:label\"></span><br />\n      <small about=\"@\" property=\"rdfs:label\"></small>\n    </h2>\n    <hr class=\"view edit -search\" />\n    <div class=\"row\">\n      <div class=\"col-sm-6\">\n        <em about=\"v-wf:from\" property=\"rdfs:label\"></em>\n        <div about=\"@\" property=\"v-wf:from\" class=\"-view edit -search\"></div>\n        <div about=\"@\" rel=\"v-wf:from\" data-template=\"v-ui:LabelTemplate\" class=\"view -edit search\"></div>\n        <veda-control data-type=\"string\" property=\"v-wf:from\" class=\"-view -edit search\"></veda-control>\n        <em about=\"v-wf:to\" property=\"rdfs:label\"></em>\n        <div about=\"@\" property=\"v-wf:to\" class=\"-view edit -search\"></div>\n        <div about=\"@\" rel=\"v-wf:to\" data-template=\"v-ui:LabelTemplate\" class=\"view -edit search\"></div>\n        <veda-control data-type=\"string\" property=\"v-wf:to\" class=\"-view -edit search\"></veda-control>\n        <em about=\"v-s:senderMailbox\" property=\"rdfs:label\"></em>\n        <div about=\"@\" property=\"v-s:senderMailbox\" class=\"-view edit -search\"></div>\n        <div property=\"v-s:senderMailbox\" class=\"view -edit search\"></div>\n        <veda-control data-type=\"string\" property=\"v-s:senderMailbox\" class=\"-view -edit search\"></veda-control>\n        <em about=\"v-s:recipientMailbox\" property=\"rdfs:label\"></em>\n        <div property=\"v-s:recipientMailbox\" class=\"view edit -search\"></div>\n        <veda-control data-type=\"generic\" property=\"v-s:recipientMailbox\" class=\"-view edit search\"></veda-control>\n        <em about=\"v-s:subject\" property=\"rdfs:label\"></em>\n        <div property=\"v-s:subject\" class=\"view -edit -search\"></div>\n        <veda-control data-type=\"string\" property=\"v-s:subject\" class=\"-view edit search\"></veda-control>\n        <em about=\"v-s:messageBody\" property=\"rdfs:label\"></em>\n        <div property=\"v-s:messageBody\" class=\"view -edit -search\"></div>\n        <veda-control property=\"v-s:messageBody\" data-type=\"text\" rows=\"4\" class=\"-view edit search\"></veda-control>\n        <em about=\"v-s:attachment\" property=\"rdfs:label\"></em>\n        <div rel=\"v-s:attachment\" data-template=\"v-ui:FileTemplateWithComment\" data-embedded=\"true\"></div>\n        <veda-control data-type=\"file\" rel=\"v-s:attachment\" class=\"-view edit -search create\"></veda-control>\n        <br />\n      </div>\n    </div>\n    <hr />\n    <div about=\"@\" data-template=\"v-ui:SystemPropertiesTemplate\" data-embedded=\"true\"></div>\n    <br />\n    <div class=\"actions\">\n      <span about=\"@\" data-template=\"v-ui:StandardButtonsTemplate\" data-embedded=\"true\" data-buttons=\"save edit cancel delete\"></span>\n    </div>\n  </div>\n");
    }
  };
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyIkIiwiX2pxdWVyeSIsImRlZmF1bHQiLCJleGVjdXRlIiwiX2V4cG9ydCIsInByZSIsImluZGl2aWR1YWwiLCJ0ZW1wbGF0ZSIsImNvbnRhaW5lciIsIm1vZGUiLCJleHRyYSIsIm9uIiwicmVzdWx0IiwicHJvbWlzZXMiLCJtYXAiLCJhdHRhY2giLCJnZXRQcm9wZXJ0eUNoYWluIiwiUHJvbWlzZSIsImFsbCIsInRoZW4iLCJmaWxlU2l6ZUFyciIsImZpbGVTaXplU1VNIiwiZm9yRWFjaCIsImZpbGVTaXplIiwic3RhdGUiLCJjYXVzZSIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsImh0bWwiXSwic291cmNlcyI6WyIuLi8uLi9vbnRvbG9neS9nZW5lcmljLWZ1bmN0aW9uL3RlbXBsYXRlcy92LXNfRW1haWxUZW1wbGF0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuXG5leHBvcnQgY29uc3QgcHJlID0gZnVuY3Rpb24gKGluZGl2aWR1YWwsIHRlbXBsYXRlLCBjb250YWluZXIsIG1vZGUsIGV4dHJhKSB7XG4gIHRlbXBsYXRlID0gJCh0ZW1wbGF0ZSk7XG4gIGNvbnRhaW5lciA9ICQoY29udGFpbmVyKTtcblxuICB0ZW1wbGF0ZS5vbigndmFsaWRhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgY29uc3QgcHJvbWlzZXMgPSBpbmRpdmlkdWFsWyd2LXM6YXR0YWNobWVudCddLm1hcChmdW5jdGlvbiAoYXR0YWNoKSB7XG4gICAgICByZXR1cm4gYXR0YWNoLmdldFByb3BlcnR5Q2hhaW4oJ3YtczpmaWxlU2l6ZScpO1xuICAgIH0pO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAoZmlsZVNpemVBcnIpIHtcbiAgICAgIGxldCBmaWxlU2l6ZVNVTSA9IDA7XG4gICAgICBmaWxlU2l6ZUFyci5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlU2l6ZSkge1xuICAgICAgICBmaWxlU2l6ZVNVTSArPSArZmlsZVNpemU7XG4gICAgICB9KTtcbiAgICAgIGlmIChmaWxlU2l6ZVNVTSA+IDE1NzI4NjQwKSB7XG4gICAgICAgIHJlc3VsdFsndi1zOmF0dGFjaG1lbnQnXSA9IHtcbiAgICAgICAgICBzdGF0ZTogZmFsc2UsXG4gICAgICAgICAgY2F1c2U6IFsndi1zOmF0dGFjaG1lbnRFbWFpbEJ1bmRsZSddLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdGVtcGxhdGVbMF0uZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3ZhbGlkYXRlZCcsIHtkZXRhaWw6IHJlc3VsdH0pKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgaHRtbCA9IGBcbiAgPGRpdiBjbGFzcz1cImNvbnRhaW5lciBzaGVldFwiPlxuICAgIDxoMj5cbiAgICAgIDxzcGFuIGFib3V0PVwidi1zOkVtYWlsXCIgcHJvcGVydHk9XCJyZGZzOmxhYmVsXCI+PC9zcGFuPjxiciAvPlxuICAgICAgPHNtYWxsIGFib3V0PVwiQFwiIHByb3BlcnR5PVwicmRmczpsYWJlbFwiPjwvc21hbGw+XG4gICAgPC9oMj5cbiAgICA8aHIgY2xhc3M9XCJ2aWV3IGVkaXQgLXNlYXJjaFwiIC8+XG4gICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+XG4gICAgICAgIDxlbSBhYm91dD1cInYtd2Y6ZnJvbVwiIHByb3BlcnR5PVwicmRmczpsYWJlbFwiPjwvZW0+XG4gICAgICAgIDxkaXYgYWJvdXQ9XCJAXCIgcHJvcGVydHk9XCJ2LXdmOmZyb21cIiBjbGFzcz1cIi12aWV3IGVkaXQgLXNlYXJjaFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGFib3V0PVwiQFwiIHJlbD1cInYtd2Y6ZnJvbVwiIGRhdGEtdGVtcGxhdGU9XCJ2LXVpOkxhYmVsVGVtcGxhdGVcIiBjbGFzcz1cInZpZXcgLWVkaXQgc2VhcmNoXCI+PC9kaXY+XG4gICAgICAgIDx2ZWRhLWNvbnRyb2wgZGF0YS10eXBlPVwic3RyaW5nXCIgcHJvcGVydHk9XCJ2LXdmOmZyb21cIiBjbGFzcz1cIi12aWV3IC1lZGl0IHNlYXJjaFwiPjwvdmVkYS1jb250cm9sPlxuICAgICAgICA8ZW0gYWJvdXQ9XCJ2LXdmOnRvXCIgcHJvcGVydHk9XCJyZGZzOmxhYmVsXCI+PC9lbT5cbiAgICAgICAgPGRpdiBhYm91dD1cIkBcIiBwcm9wZXJ0eT1cInYtd2Y6dG9cIiBjbGFzcz1cIi12aWV3IGVkaXQgLXNlYXJjaFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGFib3V0PVwiQFwiIHJlbD1cInYtd2Y6dG9cIiBkYXRhLXRlbXBsYXRlPVwidi11aTpMYWJlbFRlbXBsYXRlXCIgY2xhc3M9XCJ2aWV3IC1lZGl0IHNlYXJjaFwiPjwvZGl2PlxuICAgICAgICA8dmVkYS1jb250cm9sIGRhdGEtdHlwZT1cInN0cmluZ1wiIHByb3BlcnR5PVwidi13Zjp0b1wiIGNsYXNzPVwiLXZpZXcgLWVkaXQgc2VhcmNoXCI+PC92ZWRhLWNvbnRyb2w+XG4gICAgICAgIDxlbSBhYm91dD1cInYtczpzZW5kZXJNYWlsYm94XCIgcHJvcGVydHk9XCJyZGZzOmxhYmVsXCI+PC9lbT5cbiAgICAgICAgPGRpdiBhYm91dD1cIkBcIiBwcm9wZXJ0eT1cInYtczpzZW5kZXJNYWlsYm94XCIgY2xhc3M9XCItdmlldyBlZGl0IC1zZWFyY2hcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBwcm9wZXJ0eT1cInYtczpzZW5kZXJNYWlsYm94XCIgY2xhc3M9XCJ2aWV3IC1lZGl0IHNlYXJjaFwiPjwvZGl2PlxuICAgICAgICA8dmVkYS1jb250cm9sIGRhdGEtdHlwZT1cInN0cmluZ1wiIHByb3BlcnR5PVwidi1zOnNlbmRlck1haWxib3hcIiBjbGFzcz1cIi12aWV3IC1lZGl0IHNlYXJjaFwiPjwvdmVkYS1jb250cm9sPlxuICAgICAgICA8ZW0gYWJvdXQ9XCJ2LXM6cmVjaXBpZW50TWFpbGJveFwiIHByb3BlcnR5PVwicmRmczpsYWJlbFwiPjwvZW0+XG4gICAgICAgIDxkaXYgcHJvcGVydHk9XCJ2LXM6cmVjaXBpZW50TWFpbGJveFwiIGNsYXNzPVwidmlldyBlZGl0IC1zZWFyY2hcIj48L2Rpdj5cbiAgICAgICAgPHZlZGEtY29udHJvbCBkYXRhLXR5cGU9XCJnZW5lcmljXCIgcHJvcGVydHk9XCJ2LXM6cmVjaXBpZW50TWFpbGJveFwiIGNsYXNzPVwiLXZpZXcgZWRpdCBzZWFyY2hcIj48L3ZlZGEtY29udHJvbD5cbiAgICAgICAgPGVtIGFib3V0PVwidi1zOnN1YmplY3RcIiBwcm9wZXJ0eT1cInJkZnM6bGFiZWxcIj48L2VtPlxuICAgICAgICA8ZGl2IHByb3BlcnR5PVwidi1zOnN1YmplY3RcIiBjbGFzcz1cInZpZXcgLWVkaXQgLXNlYXJjaFwiPjwvZGl2PlxuICAgICAgICA8dmVkYS1jb250cm9sIGRhdGEtdHlwZT1cInN0cmluZ1wiIHByb3BlcnR5PVwidi1zOnN1YmplY3RcIiBjbGFzcz1cIi12aWV3IGVkaXQgc2VhcmNoXCI+PC92ZWRhLWNvbnRyb2w+XG4gICAgICAgIDxlbSBhYm91dD1cInYtczptZXNzYWdlQm9keVwiIHByb3BlcnR5PVwicmRmczpsYWJlbFwiPjwvZW0+XG4gICAgICAgIDxkaXYgcHJvcGVydHk9XCJ2LXM6bWVzc2FnZUJvZHlcIiBjbGFzcz1cInZpZXcgLWVkaXQgLXNlYXJjaFwiPjwvZGl2PlxuICAgICAgICA8dmVkYS1jb250cm9sIHByb3BlcnR5PVwidi1zOm1lc3NhZ2VCb2R5XCIgZGF0YS10eXBlPVwidGV4dFwiIHJvd3M9XCI0XCIgY2xhc3M9XCItdmlldyBlZGl0IHNlYXJjaFwiPjwvdmVkYS1jb250cm9sPlxuICAgICAgICA8ZW0gYWJvdXQ9XCJ2LXM6YXR0YWNobWVudFwiIHByb3BlcnR5PVwicmRmczpsYWJlbFwiPjwvZW0+XG4gICAgICAgIDxkaXYgcmVsPVwidi1zOmF0dGFjaG1lbnRcIiBkYXRhLXRlbXBsYXRlPVwidi11aTpGaWxlVGVtcGxhdGVXaXRoQ29tbWVudFwiIGRhdGEtZW1iZWRkZWQ9XCJ0cnVlXCI+PC9kaXY+XG4gICAgICAgIDx2ZWRhLWNvbnRyb2wgZGF0YS10eXBlPVwiZmlsZVwiIHJlbD1cInYtczphdHRhY2htZW50XCIgY2xhc3M9XCItdmlldyBlZGl0IC1zZWFyY2ggY3JlYXRlXCI+PC92ZWRhLWNvbnRyb2w+XG4gICAgICAgIDxiciAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGhyIC8+XG4gICAgPGRpdiBhYm91dD1cIkBcIiBkYXRhLXRlbXBsYXRlPVwidi11aTpTeXN0ZW1Qcm9wZXJ0aWVzVGVtcGxhdGVcIiBkYXRhLWVtYmVkZGVkPVwidHJ1ZVwiPjwvZGl2PlxuICAgIDxiciAvPlxuICAgIDxkaXYgY2xhc3M9XCJhY3Rpb25zXCI+XG4gICAgICA8c3BhbiBhYm91dD1cIkBcIiBkYXRhLXRlbXBsYXRlPVwidi11aTpTdGFuZGFyZEJ1dHRvbnNUZW1wbGF0ZVwiIGRhdGEtZW1iZWRkZWQ9XCJ0cnVlXCIgZGF0YS1idXR0b25zPVwic2F2ZSBlZGl0IGNhbmNlbCBkZWxldGVcIj48L3NwYW4+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuYDtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7TUFBT0EsQ0FBQyxHQUFBQyxPQUFBLENBQUFDLE9BQUE7SUFBQTtJQUFBQyxPQUFBLFdBQUFBLENBQUE7TUFBQUMsT0FBQSxRQUVLQyxHQUFHLEdBQUcsU0FBTkEsR0FBR0EsQ0FBYUMsVUFBVSxFQUFFQyxRQUFRLEVBQUVDLFNBQVMsRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUU7UUFDekVILFFBQVEsR0FBR1AsQ0FBQyxDQUFDTyxRQUFRLENBQUM7UUFDdEJDLFNBQVMsR0FBR1IsQ0FBQyxDQUFDUSxTQUFTLENBQUM7UUFFeEJELFFBQVEsQ0FBQ0ksRUFBRSxDQUFDLFVBQVUsRUFBRSxZQUFZO1VBQ2xDLElBQU1DLE1BQU0sR0FBRyxDQUFDLENBQUM7VUFDakIsSUFBTUMsUUFBUSxHQUFHUCxVQUFVLENBQUMsZ0JBQWdCLENBQUMsQ0FBQ1EsR0FBRyxDQUFDLFVBQVVDLE1BQU0sRUFBRTtZQUNsRSxPQUFPQSxNQUFNLENBQUNDLGdCQUFnQixDQUFDLGNBQWMsQ0FBQztVQUNoRCxDQUFDLENBQUM7VUFDRixPQUFPQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0wsUUFBUSxDQUFDLENBQUNNLElBQUksQ0FBQyxVQUFVQyxXQUFXLEVBQUU7WUFDdkQsSUFBSUMsV0FBVyxHQUFHLENBQUM7WUFDbkJELFdBQVcsQ0FBQ0UsT0FBTyxDQUFDLFVBQVVDLFFBQVEsRUFBRTtjQUN0Q0YsV0FBVyxJQUFJLENBQUNFLFFBQVE7WUFDMUIsQ0FBQyxDQUFDO1lBQ0YsSUFBSUYsV0FBVyxHQUFHLFFBQVEsRUFBRTtjQUMxQlQsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEdBQUc7Z0JBQ3pCWSxLQUFLLEVBQUUsS0FBSztnQkFDWkMsS0FBSyxFQUFFLENBQUMsMkJBQTJCO2NBQ3JDLENBQUM7WUFDSDtZQUNBbEIsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDbUIsYUFBYSxDQUFDLElBQUlDLFdBQVcsQ0FBQyxXQUFXLEVBQUU7Y0FBQ0MsTUFBTSxFQUFFaEI7WUFBTSxDQUFDLENBQUMsQ0FBQztVQUMzRSxDQUFDLENBQUM7UUFDSixDQUFDLENBQUM7TUFDSixDQUFDO01BQUFSLE9BQUEsU0FFWXlCLElBQUk7SUFBQTtFQUFBO0FBQUEifQ==