"use strict";

System.register(["jquery", "/js/common/veda.js", "/js/common/individual_model.js", "/js/common/backend.js"], function (_export, _context) {
  "use strict";

  var $, veda, IndividualModel, Backend, pre, post, html;
  return {
    setters: [function (_jquery) {
      $ = _jquery.default;
    }, function (_jsCommonVedaJs) {
      veda = _jsCommonVedaJs.default;
    }, function (_jsCommonIndividual_modelJs) {
      IndividualModel = _jsCommonIndividual_modelJs.default;
    }, function (_jsCommonBackendJs) {
      Backend = _jsCommonBackendJs.default;
    }],
    execute: function () {
      _export("pre", pre = function pre(individual, template, container, mode, extra) {
        template = $(template);
        container = $(container);
        template.on('validate', function () {
          var result = {};
          result['v-s:employee'] = {
            state: individual.hasValue('v-s:employee'),
            cause: ['v-ui:minCardinality']
          };
          result['v-s:occupation'] = {
            state: individual.hasValue('v-s:occupation'),
            cause: ['v-ui:minCardinality']
          };
          if (!individual.hasValue('v-s:parentOrganization')) {
            result['v-s:parentOrganization'] = {
              state: false,
              cause: ['v-ui:minCardinality']
            };
          }
          if (!individual.hasValue('v-s:parentUnit')) {
            result['v-s:parentUnit'] = {
              state: false,
              cause: ['v-ui:minCardinality']
            };
          }
          if (!individual.hasValue('v-s:origin')) {
            result['v-s:origin'] = {
              state: false,
              cause: ['v-ui:minCardinality']
            };
          }
          template[0].dispatchEvent(new CustomEvent('validated', {
            detail: result
          }));
        });
        template.on('special-validate', function (e, validStates) {
          setTimeout(function () {
            if ($('div.validating-block:not(.hide) .has-error', template).length == 0) {
              $('.action#save', template).removeAttr('disabled');
            } else {
              $('.action#save', template).attr('disabled', 'disabled');
            }
          }, 500);
        });
      });
      _export("post", post = function post(individual, template, container, mode, extra) {
        template = $(template);
        container = $(container);
        if (template.attr('data-mode') === 'view' && veda.appointment.id != 'cfg:AdministratorAppointment') {
          $('#edit.action', template).remove();
        }
        if (veda.appointment.id != 'cfg:AdministratorAppointment') {
          $('.notEditForUsers').addClass('hide');
        }
        // проставляет признаки по умолчанию для Назначения
        if (mode === 'edit' && individual.isNew()) {
          individual['v-s:official'] = [true];
          individual['v-s:dateFrom'] = [new Date()];
        }

        // Отображает Персону и Должность после выбора ОрганизTeации
        function hidePosAndEmp() {
          if (individual.hasValue('v-s:parentOrganization')) {
            $('#Employee').removeClass('hide');
            $('#Position').removeClass('hide');
          } else {
            $('#Employee').addClass('hide');
            $('#Position').addClass('hide');
            individual['v-s:parentUnit'] = [];
          }
        }
        individual.on('v-s:parentOrganization', hidePosAndEmp);
        template.one('remove', function () {
          individual.off('v-s:parentOrganization', hidePosAndEmp);
        });
        hidePosAndEmp();
        var NewPerson;
        var NewOccupation;
        var defaultAppointment;
        template.on('click', '#radioBlock input[type="radio"]', function () {
          defaultAppointment = $(this).attr('value');
        });
        template.on('special-validate', function (e, validStates) {
          setTimeout(function () {
            if ($('div.validating-block:not(.hide) .has-error', template).length == 0) {
              $('.action#save', template).removeAttr('disabled');
            } else {
              $('.action#save', template).attr('disabled', 'disabled');
            }
          }, 500);
        });
        function toogleButtons(currentBtn) {
          currentBtn.siblings().removeClass('btn-primary').addClass('btn-default');
          currentBtn.removeClass('btn-default').addClass('btn-primary');
          template.trigger('special-validate');
        }
        $('#createPersonBtn', template).click(function () {
          var self = $(this);
          if (self.hasClass('btn-primary')) return false;
          toogleButtons(self);
          $('#radioBlock').addClass('hide');
          defaultAppointment = undefined;
          $('#select-Person').addClass('hide');
          if (NewPerson) {
            $('#fill-Person').removeClass('hide');
          } else {
            NewPerson = new IndividualModel();
            NewPerson['rdf:type'] = [new IndividualModel('v-s:Person')];
            NewPerson['v-s:parentOrganization'] = individual['v-s:parentOrganization'];
            NewPerson.present($('<div>'), 'v-s:PersonEmbeddedTemplate', 'edit').then(function (tmpl) {
              tmpl = $(tmpl);
              tmpl.on('validate', function () {
                template.trigger('special-validate');
              });
              $('#fill-Person').append(tmpl);
            });
          }
          individual['v-s:employee'] = [NewPerson];
        });
        $('#selectPersonBtn').click(function () {
          var self = $(this);
          if (self.hasClass('btn-primary')) {
            return false;
          }
          toogleButtons(self);
          defaultAppointment = undefined;
          $('#select-Person').removeClass('hide');
          $('#fill-Person').addClass('hide');
          individual['v-s:employee'] = [];
          // individual.on('v-s:employee', setDefaultAppointment);
        });

        $('#createOccupationBtn', template).click(function () {
          var self = $(this);
          if (self.hasClass('btn-primary')) {
            return true;
          }
          toogleButtons(self);
          // individual.off('v-s:employee', setDefaultAppointment);
          $('#select-Occupation').addClass('hide');
          if (NewOccupation) {
            $('#fill-Occupation').removeClass('hide');
          } else {
            NewOccupation = new IndividualModel();
            NewOccupation['rdf:type'] = [new IndividualModel('v-s:Position')];
            NewOccupation['v-s:parentOrganization'] = individual['v-s:parentOrganization'];
            NewOccupation['v-s:parentUnit'] = individual['v-s:parentUnit'];
            NewOccupation['v-s:origin'] = individual['v-s:origin'];
            NewOccupation.present($('<div>'), 'v-s:PositionEmbeddedTemplate', 'edit').then(function (tmpl) {
              tmpl = $(tmpl);
              tmpl.on('validate', function () {
                template.trigger('special-validate');
              });
              $('#fill-Occupation').append(tmpl);
            });
          }
          individual['v-s:occupation'] = [NewOccupation];
        });
        $('#selectOccupationBtn').click(function () {
          var self = $(this);
          if (self.hasClass('btn-primary')) {
            return true;
          }
          toogleButtons(self);
          $('#select-Occupation').removeClass('hide');
          $('#fill-Occupation').addClass('hide');
          individual['v-s:occupation'] = [];
        });
        function setDefaultAppointment() {
          var radioCont = $('.radio', template).empty();
          if (individual.hasValue('v-s:employee')) {
            var employeeId = individual['v-s:employee'][0].id;
            var queryString = "'rdf:type'==='v-s:Appointment' && 'v-s:employee'=='" + employeeId + "' && 'v-s:parentOrganization'=='" + individual['v-s:parentOrganization'][0].id + "' && '@'!='" + individual.id + "'";
            Backend.query({
              ticket: veda.ticket,
              query: queryString
            }).then(function (queryResult) {
              var appointmentsUris = queryResult.result;
              if (appointmentsUris.length > 0) {
                Backend.get_individuals(veda.ticket, appointmentsUris).then(function (appointmentsJSONs) {
                  appointmentsJSONs.forEach(function (appointmentJSON) {
                    var label = $('<label></label>');
                    var radio = $('<input type="radio" name="defaultAppointment"/>').attr('value', appointmentJSON['@']);
                    label.append(radio);
                    label.append(new IndividualModel(appointmentJSON)['rdfs:label'][0]);
                    radioCont.append($('<div class="radio"></div>').append(label));
                  });
                  var newAppointLabel = individual['v-s:employee'][0]['rdfs:label'][0];
                  radioCont.append('<div class="radio"><label><input type="radio" checked name="defaultAppointment"/>Текущее для ' + newAppointLabel + '</label></div>');
                  $('#radioBlock').removeClass('hide');
                  return;
                });
              }
            });
          }
          $('#radioBlock').addClass('hide');
        }
        setDefaultAppointment();
        individual.on('v-s:employee', setDefaultAppointment);
        template.one('remove', function () {
          individual.off('v-s:employee', setDefaultAppointment);
        });
        $('.actions #save').off('click');
        $('.actions #save').on('click', function () {
          var tempEmployee = individual['v-s:employee'][0];
          var tempOccupation = individual['v-s:occupation'][0];
          var tempCommunicationMean = individual['v-s:employee'][0]['v-s:hasCommunicationMean'];
          var tempAccount = individual['v-s:employee'][0]['v-s:hasAccount'][0];

          // новый id персоны
          individual.getPropertyChain('v-s:employee').then(function (emp) {
            return emp[0].load();
          }).then(function (emp) {
            var promises = [];
            if (tempCommunicationMean && emp.isNew()) {
              promises = promises.concat(tempCommunicationMean.map(function (CommunicationMean) {
                // Средства связи
                CommunicationMean['v-s:parent'] = [emp.id];
                return CommunicationMean.save();
              }));
            }
            if (tempAccount && emp.isNew()) {
              // Аккаунт
              tempAccount['v-s:owner'] = [emp];
              tempAccount['v-s:parent'] = [emp];
              tempAccount.id = emp.id + '_account';
              tempAccount['v-s:origin'] = individual['v-s:origin'];
              promises.push(tempAccount.save());
            }
            return Promise.all(promises);
          }).then(function () {
            // Должность
            if (tempOccupation.isNew()) {
              tempOccupation['v-s:parentUnit'] = individual['v-s:parentUnit'];
              tempOccupation['v-s:parentOrganization'] = individual['v-s:parentOrganization'];
              tempOccupation['v-s:origin'] = individual['v-s:origin'];
              return tempOccupation.save();
            } else return undefined;
          }).then(function (savedOccupation) {
            // Персона
            if (tempEmployee.isNew()) {
              tempEmployee['v-s:parentOrganization'] = individual['v-s:parentOrganization'];
              tempEmployee['v-s:owner'] = [tempEmployee];
              tempEmployee['v-s:origin'] = individual['v-s:origin'];
              tempEmployee['v-s:hasAccount'] = [tempAccount];
              if (tempAccount) tempEmployee['v-s:hasAccount'] = [tempAccount];
            }
            if (savedOccupation) {
              individual['v-s:occupation'] = [savedOccupation];
            }
            if (defaultAppointment) {
              tempEmployee['v-s:defaultAppointment'] = [new IndividualModel(defaultAppointment)];
            } else {
              tempEmployee['v-s:defaultAppointment'] = [individual];
            }
            tempEmployee['v-s:hasAppointment'] = tempEmployee['v-s:hasAppointment'].concat(individual);
            return tempEmployee.save();
          }).then(function (savedEmployee) {
            // Назначение
            if (savedEmployee) {
              individual['v-s:employee'] = [tempEmployee];
            }
            individual.save();
          });
          return true;
        });
      });
      _export("html", html = "\n<div class=\"container sheet\">\n  <h2>\n    <span about=\"v-s:Appointment\" property=\"rdfs:label\"></span>\n    <small about=\"@\" property=\"rdfs:label\"></small>\n  </h2>\n  <hr>\n  <div id=\"mainProperties\">\n    <div class=\"row row-attribute\">\n      <div class=\"col-sm-3 col-xs-5\">\n        <label about=\"v-s:Organization\" property=\"rdfs:label\"></label>\n      </div>\n      <div class=\"col-sm-9 col-xs-7\">\n        <div about=\"@\" rel=\"v-s:parentOrganization\" class=\"view -edit -search\" data-template=\"v-ui:LabelLinkTemplate\"></div>\n        <veda-control rel=\"v-s:parentOrganization\" data-query-prefix=\"'rdf:type'=='v-s:Organization'\" data-type=\"link\" class=\"-view edit search fulltext dropdown\"></veda-control>\n      </div>\n    </div>\n    <div class=\"row row-attribute\">\n      <div class=\"col-sm-3 col-xs-5\">\n        <label about=\"v-s:Subsidiary\" property=\"rdfs:label\"></label>\n      </div>\n      <div class=\"col-sm-9 col-xs-7\">\n        <div about=\"@\" rel=\"v-s:parentSubsidiary\" class=\"view -edit -search\" data-template=\"v-ui:LabelLinkTemplate\"></div>\n        <veda-control rel=\"v-s:parentSubsidiary\" data-query-prefix=\"(('rdf:type'==='v-s:Subsidiary') && 'v-s:parentOrganization'=='{@.v-s:parentOrganization.id}') || '@'=='{@.v-s:parentOrganization.id}'\" data-type=\"link\" class=\"-view edit search fulltext dropdown\"></veda-control>\n      </div>\n    </div>\n    <div class=\"row row-attribute\">\n      <div class=\"col-sm-3 col-xs-5\">\n        <label about=\"v-s:Department\" property=\"rdfs:label\"></label>\n      </div>\n      <div class=\"col-sm-9 col-xs-7\">\n        <div about=\"@\" rel=\"v-s:parentUnit\" class=\"view -edit -search\" data-template=\"v-ui:LabelLinkTemplate\"></div>\n        <veda-control rel=\"v-s:parentUnit\" data-query-prefix=\"('rdf:type'=='v-s:Department' && 'v-s:parentOrganization'=='{@.v-s:parentOrganization.id}') || '@'=='{@.v-s:parentOrganization.id}'\" data-type=\"link\" class=\"-view edit search fulltext dropdown\"></veda-control>\n      </div>\n    </div>\n    <section id=\"Employee\" class=\"hide\">\n      <h4 class=\"section-header -view edit search\">\n        <span about=\"v-s:employee\" property=\"rdfs:label\"></span>\n        <div class=\"btn-group -view edit -search\">\n          <button id=\"selectPersonBtn\" class=\"btn btn-sm btn-primary navbar-btn\">\u0412\u044B\u0431\u0440\u0430\u0442\u044C</button>\n          <button id=\"createPersonBtn\" class=\"btn btn-sm btn-default navbar-btn\">\u0421\u043E\u0437\u0434\u0430\u0442\u044C</button>\n        </div>\n      </h4>\n      <div class=\"section-content\">\n        <div class=\"row row-attribute\">\n          <div class=\"col-sm-3 col-xs-5\">\n            <label about=\"v-s:employee\" property=\"rdfs:label\" class=\"view -edit -search\"></label>\n          </div>\n          <div class=\"col-sm-9 col-xs-7\">\n             <div id=\"select-Person\" class=\"validating-block\">\n              <div about=\"@\" rel=\"v-s:employee\" class=\"view -edit -search\" data-template=\"v-ui:LabelLinkTemplate\"></div>\n              <veda-control data-type=\"link\" rel=\"v-s:employee\" class=\"fulltext dropdown margin-sm -view edit -search\" data-query-prefix=\"'rdf:type'=='v-s:Person' && 'v-s:parentOrganization'=='{@.v-s:parentOrganization.id}'\"></veda-control>\n            </div>\n          </div>\n        </div>\n        <div id=\"fill-Person\" class=\"validating-block\"></div>\n      </div>\n    </section>\n    <section id=\"Position\" class=\"hide\">\n      <h4 class=\"section-header -view edit search\">\n        <span about=\"v-s:Position\" property=\"rdfs:label\"></span>\n        <div class=\"btn-group -view edit -search\">\n          <button id=\"selectOccupationBtn\" class=\"btn btn-sm btn-primary navbar-btn\">\u0412\u044B\u0431\u0440\u0430\u0442\u044C</button>\n          <button id=\"createOccupationBtn\" class=\"btn btn-sm btn-default navbar-btn\">\u0421\u043E\u0437\u0434\u0430\u0442\u044C</button>\n        </div>\n      </h4>\n      <div class=\"section-content\">\n        <div class=\"row row-attribute\">\n          <div class=\"col-sm-3 col-xs-5\">\n            <label about=\"v-s:Position\" property=\"rdfs:label\" class=\"view -edit -search\"></label>\n          </div>\n          <div class=\"col-sm-9 col-xs-7\">\n            <div id=\"select-Occupation\" class=\"validating-block\">\n              <div about=\"@\" rel=\"v-s:occupation\" class=\"view -edit -search\" data-template=\"v-ui:LabelLinkTemplate\"></div>\n              <veda-control data-type=\"link\" rel=\"v-s:occupation\" class=\"fulltext dropdown margin-sm -view edit -search\" data-query-prefix=\"'rdf:type'=='v-s:Position' && 'v-s:parentUnit'=='{@.v-s:parentUnit.id}'\"></veda-control>\n            </div>\n          </div>\n        </div>\n        <div id=\"fill-Occupation\" class=\"validating-block\"></div>\n      </div>\n    </section>\n    <hr class=\"-view edit -search\">\n    <div id=\"radioBlock\">\n      <div class=\"row row-attribute  -view edit -search\">\n        <div class=\"col-sm-3 col-xs-5\">\n          <label about=\"v-s:DefaultAppointmentBundle\" property=\"rdfs:label\"></label>\n        </div>\n        <div class=\"col-sm-9 col-xs-7\">\n           <div class=\"radio\">\n          </div>\n        </div>\n      </div>\n    </div>\n    <section id=\"ForAdmin\" class=\"notEditForUsers\">\n      <h4 class=\"section-header -view edit search\">\n        <span about=\"cfg:Administrator\" property=\"rdfs:label\"></span>\n      </h4>\n      <div class=\"row row-attribute\">\n        <div class=\"col-sm-3 col-xs-5\">\n          <label about=\"v-s:date\" property=\"rdfs:label\"></label>\n        </div>\n        <div class=\"col-sm-9 col-xs-7\">\n          <div class=\"form-inline\">\n            <div class=\"form-group\">\n              <span property=\"v-s:dateFrom\" class=\"view -edit search\"></span>\n              <veda-control property=\"v-s:dateFrom\" data-type=\"date\" class=\"-view edit search\"></veda-control>\n            </div>\n            <span class=\"view -edit -search\">&mdash;&nbsp;&nbsp;&nbsp;</span>\n            <div class=\"form-group\">\n              <span property=\"v-s:dateTo\" class=\"view -edit search\"></span>\n              <veda-control property=\"v-s:dateTo\" data-type=\"date\" class=\"-view edit search\"></veda-control>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"section-content\">\n        <div class=\"row row-attribute\">\n          <div class=\"col-sm-3 col-xs-5\">\n            <label about=\"v-s:origin\" property=\"rdfs:label\"></label>\n          </div>\n          <div class=\"col-sm-9 col-xs-7\">\n            <div property=\"v-s:origin\" class=\"view -edit search\"></div>\n            <veda-control property=\"v-s:origin\" data-type=\"string\" class=\"-view edit search\"></veda-control>\n          </div>\n        </div>\n        <div class=\"row row-attribute\">\n          <div class=\"col-sm-3 col-xs-5\">\n            <label about=\"v-s:positionCategory\" property=\"rdfs:label\"></label>\n          </div>\n          <div class=\"col-sm-9 col-xs-7\">\n            <div property=\"v-s:positionCategory\" class=\"view -edit -search\"></div>\n            <veda-control property=\"v-s:positionCategory\" data-type=\"string\" class=\"-view edit search\"></veda-control>\n          </div>\n          </div>        \n        <div class=\"row row-attribute\">\n          <div class=\"col-sm-3 col-xs-5\">\n          </div>\n          <div class=\"col-sm-9 col-xs-7\">\n            <div class=\"checkbox no-margin\">\n              <label>\n                <veda-control property=\"v-s:official\" data-type=\"boolean\"></veda-control>\n                <span about=\"v-s:official\" property=\"rdfs:label\"></span>\n              </label>\n            </div>\n          </div>\n        </div>\n        <hr>\n    </section>\n\n    <!--\u0421\u0438\u0441\u0442\u0435\u043C\u043D\u044B\u0435 \u0441\u0432\u043E\u0439\u0441\u0442\u0432\u0430 -->\n    <div about=\"@\" data-template=\"v-ui:SystemPropertiesTemplate\" data-embedded=\"true\"></div>\n    <br>\n    <!-- BUTTONS -->\n    <div class=\"actions\">\n    <span about=\"@\" data-template=\"v-ui:StandardButtonsTemplate\" data-embedded=\"true\" data-buttons=\"edit save cancel delete\"></span>\n    </div>\n  </div>\n</div>\n");
    }
  };
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyIkIiwiX2pxdWVyeSIsImRlZmF1bHQiLCJfanNDb21tb25WZWRhSnMiLCJ2ZWRhIiwiX2pzQ29tbW9uSW5kaXZpZHVhbF9tb2RlbEpzIiwiSW5kaXZpZHVhbE1vZGVsIiwiX2pzQ29tbW9uQmFja2VuZEpzIiwiQmFja2VuZCIsImV4ZWN1dGUiLCJfZXhwb3J0IiwicHJlIiwiaW5kaXZpZHVhbCIsInRlbXBsYXRlIiwiY29udGFpbmVyIiwibW9kZSIsImV4dHJhIiwib24iLCJyZXN1bHQiLCJzdGF0ZSIsImhhc1ZhbHVlIiwiY2F1c2UiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJlIiwidmFsaWRTdGF0ZXMiLCJzZXRUaW1lb3V0IiwibGVuZ3RoIiwicmVtb3ZlQXR0ciIsImF0dHIiLCJwb3N0IiwiYXBwb2ludG1lbnQiLCJpZCIsInJlbW92ZSIsImFkZENsYXNzIiwiaXNOZXciLCJEYXRlIiwiaGlkZVBvc0FuZEVtcCIsInJlbW92ZUNsYXNzIiwib25lIiwib2ZmIiwiTmV3UGVyc29uIiwiTmV3T2NjdXBhdGlvbiIsImRlZmF1bHRBcHBvaW50bWVudCIsInRvb2dsZUJ1dHRvbnMiLCJjdXJyZW50QnRuIiwic2libGluZ3MiLCJ0cmlnZ2VyIiwiY2xpY2siLCJzZWxmIiwiaGFzQ2xhc3MiLCJ1bmRlZmluZWQiLCJwcmVzZW50IiwidGhlbiIsInRtcGwiLCJhcHBlbmQiLCJzZXREZWZhdWx0QXBwb2ludG1lbnQiLCJyYWRpb0NvbnQiLCJlbXB0eSIsImVtcGxveWVlSWQiLCJxdWVyeVN0cmluZyIsInF1ZXJ5IiwidGlja2V0IiwicXVlcnlSZXN1bHQiLCJhcHBvaW50bWVudHNVcmlzIiwiZ2V0X2luZGl2aWR1YWxzIiwiYXBwb2ludG1lbnRzSlNPTnMiLCJmb3JFYWNoIiwiYXBwb2ludG1lbnRKU09OIiwibGFiZWwiLCJyYWRpbyIsIm5ld0FwcG9pbnRMYWJlbCIsInRlbXBFbXBsb3llZSIsInRlbXBPY2N1cGF0aW9uIiwidGVtcENvbW11bmljYXRpb25NZWFuIiwidGVtcEFjY291bnQiLCJnZXRQcm9wZXJ0eUNoYWluIiwiZW1wIiwibG9hZCIsInByb21pc2VzIiwiY29uY2F0IiwibWFwIiwiQ29tbXVuaWNhdGlvbk1lYW4iLCJzYXZlIiwicHVzaCIsIlByb21pc2UiLCJhbGwiLCJzYXZlZE9jY3VwYXRpb24iLCJzYXZlZEVtcGxveWVlIiwiaHRtbCJdLCJzb3VyY2VzIjpbIi4uLy4uL29udG9sb2d5L2Fic3RyYWN0LWRpY3Rpb25hcnkvb3JnYW5pemF0aW9uL3RlbXBsYXRlcy92LXNfQXBwb2ludG1lbnRUZW1wbGF0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHZlZGEgZnJvbSAnL2pzL2NvbW1vbi92ZWRhLmpzJztcbmltcG9ydCBJbmRpdmlkdWFsTW9kZWwgZnJvbSAnL2pzL2NvbW1vbi9pbmRpdmlkdWFsX21vZGVsLmpzJztcbmltcG9ydCBCYWNrZW5kIGZyb20gJy9qcy9jb21tb24vYmFja2VuZC5qcyc7XG5cbmV4cG9ydCBjb25zdCBwcmUgPSBmdW5jdGlvbiAoaW5kaXZpZHVhbCwgdGVtcGxhdGUsIGNvbnRhaW5lciwgbW9kZSwgZXh0cmEpIHtcbiAgdGVtcGxhdGUgPSAkKHRlbXBsYXRlKTtcbiAgY29udGFpbmVyID0gJChjb250YWluZXIpO1xuXG4gIHRlbXBsYXRlLm9uKCd2YWxpZGF0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICByZXN1bHRbJ3YtczplbXBsb3llZSddID0ge1xuICAgICAgc3RhdGU6IGluZGl2aWR1YWwuaGFzVmFsdWUoJ3YtczplbXBsb3llZScpLFxuICAgICAgY2F1c2U6IFsndi11aTptaW5DYXJkaW5hbGl0eSddLFxuICAgIH07XG4gICAgcmVzdWx0Wyd2LXM6b2NjdXBhdGlvbiddID0ge1xuICAgICAgc3RhdGU6IGluZGl2aWR1YWwuaGFzVmFsdWUoJ3YtczpvY2N1cGF0aW9uJyksXG4gICAgICBjYXVzZTogWyd2LXVpOm1pbkNhcmRpbmFsaXR5J10sXG4gICAgfTtcbiAgICBpZiAoIWluZGl2aWR1YWwuaGFzVmFsdWUoJ3YtczpwYXJlbnRPcmdhbml6YXRpb24nKSkge1xuICAgICAgcmVzdWx0Wyd2LXM6cGFyZW50T3JnYW5pemF0aW9uJ10gPSB7XG4gICAgICAgIHN0YXRlOiBmYWxzZSxcbiAgICAgICAgY2F1c2U6IFsndi11aTptaW5DYXJkaW5hbGl0eSddLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCFpbmRpdmlkdWFsLmhhc1ZhbHVlKCd2LXM6cGFyZW50VW5pdCcpKSB7XG4gICAgICByZXN1bHRbJ3YtczpwYXJlbnRVbml0J10gPSB7XG4gICAgICAgIHN0YXRlOiBmYWxzZSxcbiAgICAgICAgY2F1c2U6IFsndi11aTptaW5DYXJkaW5hbGl0eSddLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCFpbmRpdmlkdWFsLmhhc1ZhbHVlKCd2LXM6b3JpZ2luJykpIHtcbiAgICAgIHJlc3VsdFsndi1zOm9yaWdpbiddID0ge1xuICAgICAgICBzdGF0ZTogZmFsc2UsXG4gICAgICAgIGNhdXNlOiBbJ3YtdWk6bWluQ2FyZGluYWxpdHknXSxcbiAgICAgIH07XG4gICAgfVxuICAgIHRlbXBsYXRlWzBdLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCd2YWxpZGF0ZWQnLCB7ZGV0YWlsOiByZXN1bHR9KSk7XG4gIH0pO1xuICB0ZW1wbGF0ZS5vbignc3BlY2lhbC12YWxpZGF0ZScsIGZ1bmN0aW9uIChlLCB2YWxpZFN0YXRlcykge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCQoJ2Rpdi52YWxpZGF0aW5nLWJsb2NrOm5vdCguaGlkZSkgLmhhcy1lcnJvcicsIHRlbXBsYXRlKS5sZW5ndGggPT0gMCkge1xuICAgICAgICAkKCcuYWN0aW9uI3NhdmUnLCB0ZW1wbGF0ZSkucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJy5hY3Rpb24jc2F2ZScsIHRlbXBsYXRlKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgfVxuICAgIH0sIDUwMCk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHBvc3QgPSBmdW5jdGlvbiAoaW5kaXZpZHVhbCwgdGVtcGxhdGUsIGNvbnRhaW5lciwgbW9kZSwgZXh0cmEpIHtcbiAgdGVtcGxhdGUgPSAkKHRlbXBsYXRlKTtcbiAgY29udGFpbmVyID0gJChjb250YWluZXIpO1xuXG4gIGlmICh0ZW1wbGF0ZS5hdHRyKCdkYXRhLW1vZGUnKSA9PT0gJ3ZpZXcnICYmIHZlZGEuYXBwb2ludG1lbnQuaWQgIT0gJ2NmZzpBZG1pbmlzdHJhdG9yQXBwb2ludG1lbnQnKSB7XG4gICAgJCgnI2VkaXQuYWN0aW9uJywgdGVtcGxhdGUpLnJlbW92ZSgpO1xuICB9XG4gIGlmICh2ZWRhLmFwcG9pbnRtZW50LmlkICE9ICdjZmc6QWRtaW5pc3RyYXRvckFwcG9pbnRtZW50Jykge1xuICAgICQoJy5ub3RFZGl0Rm9yVXNlcnMnKS5hZGRDbGFzcygnaGlkZScpO1xuICB9XG4gIC8vINC/0YDQvtGB0YLQsNCy0LvRj9C10YIg0L/RgNC40LfQvdCw0LrQuCDQv9C+INGD0LzQvtC70YfQsNC90LjRjiDQtNC70Y8g0J3QsNC30L3QsNGH0LXQvdC40Y9cbiAgaWYgKG1vZGUgPT09ICdlZGl0JyAmJiBpbmRpdmlkdWFsLmlzTmV3KCkpIHtcbiAgICBpbmRpdmlkdWFsWyd2LXM6b2ZmaWNpYWwnXSA9IFt0cnVlXTtcbiAgICBpbmRpdmlkdWFsWyd2LXM6ZGF0ZUZyb20nXSA9IFtuZXcgRGF0ZSgpXTtcbiAgfVxuXG4gIC8vINCe0YLQvtCx0YDQsNC20LDQtdGCINCf0LXRgNGB0L7QvdGDINC4INCU0L7Qu9C20L3QvtGB0YLRjCDQv9C+0YHQu9C1INCy0YvQsdC+0YDQsCDQntGA0LPQsNC90LjQt1Rl0LDRhtC40LhcbiAgZnVuY3Rpb24gaGlkZVBvc0FuZEVtcCAoKSB7XG4gICAgaWYgKGluZGl2aWR1YWwuaGFzVmFsdWUoJ3YtczpwYXJlbnRPcmdhbml6YXRpb24nKSkge1xuICAgICAgJCgnI0VtcGxveWVlJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICQoJyNQb3NpdGlvbicpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJyNFbXBsb3llZScpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICAkKCcjUG9zaXRpb24nKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgaW5kaXZpZHVhbFsndi1zOnBhcmVudFVuaXQnXSA9IFtdO1xuICAgIH1cbiAgfVxuICBpbmRpdmlkdWFsLm9uKCd2LXM6cGFyZW50T3JnYW5pemF0aW9uJywgaGlkZVBvc0FuZEVtcCk7XG4gIHRlbXBsYXRlLm9uZSgncmVtb3ZlJywgZnVuY3Rpb24gKCkge1xuICAgIGluZGl2aWR1YWwub2ZmKCd2LXM6cGFyZW50T3JnYW5pemF0aW9uJywgaGlkZVBvc0FuZEVtcCk7XG4gIH0pO1xuICBoaWRlUG9zQW5kRW1wKCk7XG5cbiAgbGV0IE5ld1BlcnNvbjtcbiAgbGV0IE5ld09jY3VwYXRpb247XG4gIGxldCBkZWZhdWx0QXBwb2ludG1lbnQ7XG4gIHRlbXBsYXRlLm9uKCdjbGljaycsICcjcmFkaW9CbG9jayBpbnB1dFt0eXBlPVwicmFkaW9cIl0nLCBmdW5jdGlvbiAoKSB7XG4gICAgZGVmYXVsdEFwcG9pbnRtZW50ID0gJCh0aGlzKS5hdHRyKCd2YWx1ZScpO1xuICB9KTtcbiAgdGVtcGxhdGUub24oJ3NwZWNpYWwtdmFsaWRhdGUnLCBmdW5jdGlvbiAoZSwgdmFsaWRTdGF0ZXMpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICgkKCdkaXYudmFsaWRhdGluZy1ibG9jazpub3QoLmhpZGUpIC5oYXMtZXJyb3InLCB0ZW1wbGF0ZSkubGVuZ3RoID09IDApIHtcbiAgICAgICAgJCgnLmFjdGlvbiNzYXZlJywgdGVtcGxhdGUpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcuYWN0aW9uI3NhdmUnLCB0ZW1wbGF0ZSkuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9LCA1MDApO1xuICB9KTtcblxuICBmdW5jdGlvbiB0b29nbGVCdXR0b25zIChjdXJyZW50QnRuKSB7XG4gICAgY3VycmVudEJ0bi5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdidG4tcHJpbWFyeScpLmFkZENsYXNzKCdidG4tZGVmYXVsdCcpO1xuICAgIGN1cnJlbnRCdG4ucmVtb3ZlQ2xhc3MoJ2J0bi1kZWZhdWx0JykuYWRkQ2xhc3MoJ2J0bi1wcmltYXJ5Jyk7XG4gICAgdGVtcGxhdGUudHJpZ2dlcignc3BlY2lhbC12YWxpZGF0ZScpO1xuICB9XG5cbiAgJCgnI2NyZWF0ZVBlcnNvbkJ0bicsIHRlbXBsYXRlKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc2VsZiA9ICQodGhpcyk7XG4gICAgaWYgKHNlbGYuaGFzQ2xhc3MoJ2J0bi1wcmltYXJ5JykpIHJldHVybiBmYWxzZTtcbiAgICB0b29nbGVCdXR0b25zKHNlbGYpO1xuICAgICQoJyNyYWRpb0Jsb2NrJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICBkZWZhdWx0QXBwb2ludG1lbnQgPSB1bmRlZmluZWQ7XG4gICAgJCgnI3NlbGVjdC1QZXJzb24nKS5hZGRDbGFzcygnaGlkZScpO1xuICAgIGlmIChOZXdQZXJzb24pIHtcbiAgICAgICQoJyNmaWxsLVBlcnNvbicpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE5ld1BlcnNvbiA9IG5ldyBJbmRpdmlkdWFsTW9kZWwoKTtcbiAgICAgIE5ld1BlcnNvblsncmRmOnR5cGUnXSA9IFtuZXcgSW5kaXZpZHVhbE1vZGVsKCd2LXM6UGVyc29uJyldO1xuICAgICAgTmV3UGVyc29uWyd2LXM6cGFyZW50T3JnYW5pemF0aW9uJ10gPSBpbmRpdmlkdWFsWyd2LXM6cGFyZW50T3JnYW5pemF0aW9uJ107XG4gICAgICBOZXdQZXJzb24ucHJlc2VudCgkKCc8ZGl2PicpLCAndi1zOlBlcnNvbkVtYmVkZGVkVGVtcGxhdGUnLCAnZWRpdCcpLnRoZW4oZnVuY3Rpb24gKHRtcGwpIHtcbiAgICAgICAgdG1wbCA9ICQodG1wbCk7XG4gICAgICAgIHRtcGwub24oJ3ZhbGlkYXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRlbXBsYXRlLnRyaWdnZXIoJ3NwZWNpYWwtdmFsaWRhdGUnKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoJyNmaWxsLVBlcnNvbicpLmFwcGVuZCh0bXBsKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpbmRpdmlkdWFsWyd2LXM6ZW1wbG95ZWUnXSA9IFtOZXdQZXJzb25dO1xuICB9KTtcblxuICAkKCcjc2VsZWN0UGVyc29uQnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHNlbGYgPSAkKHRoaXMpO1xuICAgIGlmIChzZWxmLmhhc0NsYXNzKCdidG4tcHJpbWFyeScpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRvb2dsZUJ1dHRvbnMoc2VsZik7XG4gICAgZGVmYXVsdEFwcG9pbnRtZW50ID0gdW5kZWZpbmVkO1xuICAgICQoJyNzZWxlY3QtUGVyc29uJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAkKCcjZmlsbC1QZXJzb24nKS5hZGRDbGFzcygnaGlkZScpO1xuICAgIGluZGl2aWR1YWxbJ3YtczplbXBsb3llZSddID0gW107XG4gICAgLy8gaW5kaXZpZHVhbC5vbigndi1zOmVtcGxveWVlJywgc2V0RGVmYXVsdEFwcG9pbnRtZW50KTtcbiAgfSk7XG5cbiAgJCgnI2NyZWF0ZU9jY3VwYXRpb25CdG4nLCB0ZW1wbGF0ZSkuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHNlbGYgPSAkKHRoaXMpO1xuICAgIGlmIChzZWxmLmhhc0NsYXNzKCdidG4tcHJpbWFyeScpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdG9vZ2xlQnV0dG9ucyhzZWxmKTtcbiAgICAvLyBpbmRpdmlkdWFsLm9mZigndi1zOmVtcGxveWVlJywgc2V0RGVmYXVsdEFwcG9pbnRtZW50KTtcbiAgICAkKCcjc2VsZWN0LU9jY3VwYXRpb24nKS5hZGRDbGFzcygnaGlkZScpO1xuICAgIGlmIChOZXdPY2N1cGF0aW9uKSB7XG4gICAgICAkKCcjZmlsbC1PY2N1cGF0aW9uJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTmV3T2NjdXBhdGlvbiA9IG5ldyBJbmRpdmlkdWFsTW9kZWwoKTtcbiAgICAgIE5ld09jY3VwYXRpb25bJ3JkZjp0eXBlJ10gPSBbbmV3IEluZGl2aWR1YWxNb2RlbCgndi1zOlBvc2l0aW9uJyldO1xuICAgICAgTmV3T2NjdXBhdGlvblsndi1zOnBhcmVudE9yZ2FuaXphdGlvbiddID0gaW5kaXZpZHVhbFsndi1zOnBhcmVudE9yZ2FuaXphdGlvbiddO1xuICAgICAgTmV3T2NjdXBhdGlvblsndi1zOnBhcmVudFVuaXQnXSA9IGluZGl2aWR1YWxbJ3YtczpwYXJlbnRVbml0J107XG4gICAgICBOZXdPY2N1cGF0aW9uWyd2LXM6b3JpZ2luJ10gPSBpbmRpdmlkdWFsWyd2LXM6b3JpZ2luJ107XG4gICAgICBOZXdPY2N1cGF0aW9uLnByZXNlbnQoJCgnPGRpdj4nKSwgJ3YtczpQb3NpdGlvbkVtYmVkZGVkVGVtcGxhdGUnLCAnZWRpdCcpLnRoZW4oZnVuY3Rpb24gKHRtcGwpIHtcbiAgICAgICAgdG1wbCA9ICQodG1wbCk7XG4gICAgICAgIHRtcGwub24oJ3ZhbGlkYXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRlbXBsYXRlLnRyaWdnZXIoJ3NwZWNpYWwtdmFsaWRhdGUnKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoJyNmaWxsLU9jY3VwYXRpb24nKS5hcHBlbmQodG1wbCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaW5kaXZpZHVhbFsndi1zOm9jY3VwYXRpb24nXSA9IFtOZXdPY2N1cGF0aW9uXTtcbiAgfSk7XG5cbiAgJCgnI3NlbGVjdE9jY3VwYXRpb25CdG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc2VsZiA9ICQodGhpcyk7XG4gICAgaWYgKHNlbGYuaGFzQ2xhc3MoJ2J0bi1wcmltYXJ5JykpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB0b29nbGVCdXR0b25zKHNlbGYpO1xuICAgICQoJyNzZWxlY3QtT2NjdXBhdGlvbicpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgJCgnI2ZpbGwtT2NjdXBhdGlvbicpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgaW5kaXZpZHVhbFsndi1zOm9jY3VwYXRpb24nXSA9IFtdO1xuICB9KTtcbiAgZnVuY3Rpb24gc2V0RGVmYXVsdEFwcG9pbnRtZW50ICgpIHtcbiAgICBjb25zdCByYWRpb0NvbnQgPSAkKCcucmFkaW8nLCB0ZW1wbGF0ZSkuZW1wdHkoKTtcbiAgICBpZiAoaW5kaXZpZHVhbC5oYXNWYWx1ZSgndi1zOmVtcGxveWVlJykpIHtcbiAgICAgIGNvbnN0IGVtcGxveWVlSWQgPSBpbmRpdmlkdWFsWyd2LXM6ZW1wbG95ZWUnXVswXS5pZDtcbiAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID1cbiAgICAgICAgXCIncmRmOnR5cGUnPT09J3YtczpBcHBvaW50bWVudCcgJiYgJ3YtczplbXBsb3llZSc9PSdcIiArXG4gICAgICAgIGVtcGxveWVlSWQgK1xuICAgICAgICBcIicgJiYgJ3YtczpwYXJlbnRPcmdhbml6YXRpb24nPT0nXCIgK1xuICAgICAgICBpbmRpdmlkdWFsWyd2LXM6cGFyZW50T3JnYW5pemF0aW9uJ11bMF0uaWQgK1xuICAgICAgICBcIicgJiYgJ0AnIT0nXCIgK1xuICAgICAgICBpbmRpdmlkdWFsLmlkICtcbiAgICAgICAgXCInXCI7XG4gICAgICBCYWNrZW5kLnF1ZXJ5KHt0aWNrZXQ6IHZlZGEudGlja2V0LCBxdWVyeTogcXVlcnlTdHJpbmd9KS50aGVuKGZ1bmN0aW9uIChxdWVyeVJlc3VsdCkge1xuICAgICAgICBjb25zdCBhcHBvaW50bWVudHNVcmlzID0gcXVlcnlSZXN1bHQucmVzdWx0O1xuICAgICAgICBpZiAoYXBwb2ludG1lbnRzVXJpcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgQmFja2VuZC5nZXRfaW5kaXZpZHVhbHModmVkYS50aWNrZXQsIGFwcG9pbnRtZW50c1VyaXMpLnRoZW4oZnVuY3Rpb24gKGFwcG9pbnRtZW50c0pTT05zKSB7XG4gICAgICAgICAgICBhcHBvaW50bWVudHNKU09Ocy5mb3JFYWNoKGZ1bmN0aW9uIChhcHBvaW50bWVudEpTT04pIHtcbiAgICAgICAgICAgICAgY29uc3QgbGFiZWwgPSAkKCc8bGFiZWw+PC9sYWJlbD4nKTtcbiAgICAgICAgICAgICAgY29uc3QgcmFkaW8gPSAkKCc8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImRlZmF1bHRBcHBvaW50bWVudFwiLz4nKS5hdHRyKCd2YWx1ZScsIGFwcG9pbnRtZW50SlNPTlsnQCddKTtcbiAgICAgICAgICAgICAgbGFiZWwuYXBwZW5kKHJhZGlvKTtcbiAgICAgICAgICAgICAgbGFiZWwuYXBwZW5kKG5ldyBJbmRpdmlkdWFsTW9kZWwoYXBwb2ludG1lbnRKU09OKVsncmRmczpsYWJlbCddWzBdKTtcbiAgICAgICAgICAgICAgcmFkaW9Db250LmFwcGVuZCgkKCc8ZGl2IGNsYXNzPVwicmFkaW9cIj48L2Rpdj4nKS5hcHBlbmQobGFiZWwpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbmV3QXBwb2ludExhYmVsID0gaW5kaXZpZHVhbFsndi1zOmVtcGxveWVlJ11bMF1bJ3JkZnM6bGFiZWwnXVswXTtcbiAgICAgICAgICAgIHJhZGlvQ29udC5hcHBlbmQoXG4gICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicmFkaW9cIj48bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIGNoZWNrZWQgbmFtZT1cImRlZmF1bHRBcHBvaW50bWVudFwiLz7QotC10LrRg9GJ0LXQtSDQtNC70Y8gJyArIG5ld0FwcG9pbnRMYWJlbCArICc8L2xhYmVsPjwvZGl2PicsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgJCgnI3JhZGlvQmxvY2snKS5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgJCgnI3JhZGlvQmxvY2snKS5hZGRDbGFzcygnaGlkZScpO1xuICB9XG4gIHNldERlZmF1bHRBcHBvaW50bWVudCgpO1xuICBpbmRpdmlkdWFsLm9uKCd2LXM6ZW1wbG95ZWUnLCBzZXREZWZhdWx0QXBwb2ludG1lbnQpO1xuICB0ZW1wbGF0ZS5vbmUoJ3JlbW92ZScsIGZ1bmN0aW9uICgpIHtcbiAgICBpbmRpdmlkdWFsLm9mZigndi1zOmVtcGxveWVlJywgc2V0RGVmYXVsdEFwcG9pbnRtZW50KTtcbiAgfSk7XG5cbiAgJCgnLmFjdGlvbnMgI3NhdmUnKS5vZmYoJ2NsaWNrJyk7XG4gICQoJy5hY3Rpb25zICNzYXZlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHRlbXBFbXBsb3llZSA9IGluZGl2aWR1YWxbJ3YtczplbXBsb3llZSddWzBdO1xuICAgIGNvbnN0IHRlbXBPY2N1cGF0aW9uID0gaW5kaXZpZHVhbFsndi1zOm9jY3VwYXRpb24nXVswXTtcbiAgICBjb25zdCB0ZW1wQ29tbXVuaWNhdGlvbk1lYW4gPSBpbmRpdmlkdWFsWyd2LXM6ZW1wbG95ZWUnXVswXVsndi1zOmhhc0NvbW11bmljYXRpb25NZWFuJ107XG4gICAgY29uc3QgdGVtcEFjY291bnQgPSBpbmRpdmlkdWFsWyd2LXM6ZW1wbG95ZWUnXVswXVsndi1zOmhhc0FjY291bnQnXVswXTtcblxuICAgIC8vINC90L7QstGL0LkgaWQg0L/QtdGA0YHQvtC90YtcbiAgICBpbmRpdmlkdWFsXG4gICAgICAuZ2V0UHJvcGVydHlDaGFpbigndi1zOmVtcGxveWVlJylcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChlbXApIHtcbiAgICAgICAgcmV0dXJuIGVtcFswXS5sb2FkKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKGVtcCkge1xuICAgICAgICBsZXQgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgaWYgKHRlbXBDb21tdW5pY2F0aW9uTWVhbiAmJiBlbXAuaXNOZXcoKSkge1xuICAgICAgICAgIHByb21pc2VzID0gcHJvbWlzZXMuY29uY2F0KHRlbXBDb21tdW5pY2F0aW9uTWVhbi5tYXAoZnVuY3Rpb24gKENvbW11bmljYXRpb25NZWFuKSB7XG4gICAgICAgICAgICAvLyDQodGA0LXQtNGB0YLQstCwINGB0LLRj9C30LhcbiAgICAgICAgICAgIENvbW11bmljYXRpb25NZWFuWyd2LXM6cGFyZW50J10gPSBbZW1wLmlkXTtcbiAgICAgICAgICAgIHJldHVybiBDb21tdW5pY2F0aW9uTWVhbi5zYXZlKCk7XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZW1wQWNjb3VudCAmJiBlbXAuaXNOZXcoKSkge1xuICAgICAgICAgIC8vINCQ0LrQutCw0YPQvdGCXG4gICAgICAgICAgdGVtcEFjY291bnRbJ3Ytczpvd25lciddID0gW2VtcF07XG4gICAgICAgICAgdGVtcEFjY291bnRbJ3YtczpwYXJlbnQnXSA9IFtlbXBdO1xuICAgICAgICAgIHRlbXBBY2NvdW50LmlkID0gZW1wLmlkICsgJ19hY2NvdW50JztcbiAgICAgICAgICB0ZW1wQWNjb3VudFsndi1zOm9yaWdpbiddID0gaW5kaXZpZHVhbFsndi1zOm9yaWdpbiddO1xuICAgICAgICAgIHByb21pc2VzLnB1c2godGVtcEFjY291bnQuc2F2ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8g0JTQvtC70LbQvdC+0YHRgtGMXG4gICAgICAgIGlmICh0ZW1wT2NjdXBhdGlvbi5pc05ldygpKSB7XG4gICAgICAgICAgdGVtcE9jY3VwYXRpb25bJ3YtczpwYXJlbnRVbml0J10gPSBpbmRpdmlkdWFsWyd2LXM6cGFyZW50VW5pdCddO1xuICAgICAgICAgIHRlbXBPY2N1cGF0aW9uWyd2LXM6cGFyZW50T3JnYW5pemF0aW9uJ10gPSBpbmRpdmlkdWFsWyd2LXM6cGFyZW50T3JnYW5pemF0aW9uJ107XG4gICAgICAgICAgdGVtcE9jY3VwYXRpb25bJ3YtczpvcmlnaW4nXSA9IGluZGl2aWR1YWxbJ3YtczpvcmlnaW4nXTtcbiAgICAgICAgICByZXR1cm4gdGVtcE9jY3VwYXRpb24uc2F2ZSgpO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbiAoc2F2ZWRPY2N1cGF0aW9uKSB7XG4gICAgICAgIC8vINCf0LXRgNGB0L7QvdCwXG4gICAgICAgIGlmICh0ZW1wRW1wbG95ZWUuaXNOZXcoKSkge1xuICAgICAgICAgIHRlbXBFbXBsb3llZVsndi1zOnBhcmVudE9yZ2FuaXphdGlvbiddID0gaW5kaXZpZHVhbFsndi1zOnBhcmVudE9yZ2FuaXphdGlvbiddO1xuICAgICAgICAgIHRlbXBFbXBsb3llZVsndi1zOm93bmVyJ10gPSBbdGVtcEVtcGxveWVlXTtcbiAgICAgICAgICB0ZW1wRW1wbG95ZWVbJ3YtczpvcmlnaW4nXSA9IGluZGl2aWR1YWxbJ3YtczpvcmlnaW4nXTtcbiAgICAgICAgICB0ZW1wRW1wbG95ZWVbJ3YtczpoYXNBY2NvdW50J10gPSBbdGVtcEFjY291bnRdO1xuICAgICAgICAgIGlmICh0ZW1wQWNjb3VudCkgdGVtcEVtcGxveWVlWyd2LXM6aGFzQWNjb3VudCddID0gW3RlbXBBY2NvdW50XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzYXZlZE9jY3VwYXRpb24pIHtcbiAgICAgICAgICBpbmRpdmlkdWFsWyd2LXM6b2NjdXBhdGlvbiddID0gW3NhdmVkT2NjdXBhdGlvbl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZmF1bHRBcHBvaW50bWVudCkge1xuICAgICAgICAgIHRlbXBFbXBsb3llZVsndi1zOmRlZmF1bHRBcHBvaW50bWVudCddID0gW25ldyBJbmRpdmlkdWFsTW9kZWwoZGVmYXVsdEFwcG9pbnRtZW50KV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcEVtcGxveWVlWyd2LXM6ZGVmYXVsdEFwcG9pbnRtZW50J10gPSBbaW5kaXZpZHVhbF07XG4gICAgICAgIH1cbiAgICAgICAgdGVtcEVtcGxveWVlWyd2LXM6aGFzQXBwb2ludG1lbnQnXSA9IHRlbXBFbXBsb3llZVsndi1zOmhhc0FwcG9pbnRtZW50J10uY29uY2F0KGluZGl2aWR1YWwpO1xuICAgICAgICByZXR1cm4gdGVtcEVtcGxveWVlLnNhdmUoKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbiAoc2F2ZWRFbXBsb3llZSkge1xuICAgICAgICAvLyDQndCw0LfQvdCw0YfQtdC90LjQtVxuICAgICAgICBpZiAoc2F2ZWRFbXBsb3llZSkge1xuICAgICAgICAgIGluZGl2aWR1YWxbJ3YtczplbXBsb3llZSddID0gW3RlbXBFbXBsb3llZV07XG4gICAgICAgIH1cbiAgICAgICAgaW5kaXZpZHVhbC5zYXZlKCk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgaHRtbCA9IGBcbjxkaXYgY2xhc3M9XCJjb250YWluZXIgc2hlZXRcIj5cbiAgPGgyPlxuICAgIDxzcGFuIGFib3V0PVwidi1zOkFwcG9pbnRtZW50XCIgcHJvcGVydHk9XCJyZGZzOmxhYmVsXCI+PC9zcGFuPlxuICAgIDxzbWFsbCBhYm91dD1cIkBcIiBwcm9wZXJ0eT1cInJkZnM6bGFiZWxcIj48L3NtYWxsPlxuICA8L2gyPlxuICA8aHI+XG4gIDxkaXYgaWQ9XCJtYWluUHJvcGVydGllc1wiPlxuICAgIDxkaXYgY2xhc3M9XCJyb3cgcm93LWF0dHJpYnV0ZVwiPlxuICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0zIGNvbC14cy01XCI+XG4gICAgICAgIDxsYWJlbCBhYm91dD1cInYtczpPcmdhbml6YXRpb25cIiBwcm9wZXJ0eT1cInJkZnM6bGFiZWxcIj48L2xhYmVsPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTkgY29sLXhzLTdcIj5cbiAgICAgICAgPGRpdiBhYm91dD1cIkBcIiByZWw9XCJ2LXM6cGFyZW50T3JnYW5pemF0aW9uXCIgY2xhc3M9XCJ2aWV3IC1lZGl0IC1zZWFyY2hcIiBkYXRhLXRlbXBsYXRlPVwidi11aTpMYWJlbExpbmtUZW1wbGF0ZVwiPjwvZGl2PlxuICAgICAgICA8dmVkYS1jb250cm9sIHJlbD1cInYtczpwYXJlbnRPcmdhbml6YXRpb25cIiBkYXRhLXF1ZXJ5LXByZWZpeD1cIidyZGY6dHlwZSc9PSd2LXM6T3JnYW5pemF0aW9uJ1wiIGRhdGEtdHlwZT1cImxpbmtcIiBjbGFzcz1cIi12aWV3IGVkaXQgc2VhcmNoIGZ1bGx0ZXh0IGRyb3Bkb3duXCI+PC92ZWRhLWNvbnRyb2w+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwicm93IHJvdy1hdHRyaWJ1dGVcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMyBjb2wteHMtNVwiPlxuICAgICAgICA8bGFiZWwgYWJvdXQ9XCJ2LXM6U3Vic2lkaWFyeVwiIHByb3BlcnR5PVwicmRmczpsYWJlbFwiPjwvbGFiZWw+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOSBjb2wteHMtN1wiPlxuICAgICAgICA8ZGl2IGFib3V0PVwiQFwiIHJlbD1cInYtczpwYXJlbnRTdWJzaWRpYXJ5XCIgY2xhc3M9XCJ2aWV3IC1lZGl0IC1zZWFyY2hcIiBkYXRhLXRlbXBsYXRlPVwidi11aTpMYWJlbExpbmtUZW1wbGF0ZVwiPjwvZGl2PlxuICAgICAgICA8dmVkYS1jb250cm9sIHJlbD1cInYtczpwYXJlbnRTdWJzaWRpYXJ5XCIgZGF0YS1xdWVyeS1wcmVmaXg9XCIoKCdyZGY6dHlwZSc9PT0ndi1zOlN1YnNpZGlhcnknKSAmJiAndi1zOnBhcmVudE9yZ2FuaXphdGlvbic9PSd7QC52LXM6cGFyZW50T3JnYW5pemF0aW9uLmlkfScpIHx8ICdAJz09J3tALnYtczpwYXJlbnRPcmdhbml6YXRpb24uaWR9J1wiIGRhdGEtdHlwZT1cImxpbmtcIiBjbGFzcz1cIi12aWV3IGVkaXQgc2VhcmNoIGZ1bGx0ZXh0IGRyb3Bkb3duXCI+PC92ZWRhLWNvbnRyb2w+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwicm93IHJvdy1hdHRyaWJ1dGVcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMyBjb2wteHMtNVwiPlxuICAgICAgICA8bGFiZWwgYWJvdXQ9XCJ2LXM6RGVwYXJ0bWVudFwiIHByb3BlcnR5PVwicmRmczpsYWJlbFwiPjwvbGFiZWw+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOSBjb2wteHMtN1wiPlxuICAgICAgICA8ZGl2IGFib3V0PVwiQFwiIHJlbD1cInYtczpwYXJlbnRVbml0XCIgY2xhc3M9XCJ2aWV3IC1lZGl0IC1zZWFyY2hcIiBkYXRhLXRlbXBsYXRlPVwidi11aTpMYWJlbExpbmtUZW1wbGF0ZVwiPjwvZGl2PlxuICAgICAgICA8dmVkYS1jb250cm9sIHJlbD1cInYtczpwYXJlbnRVbml0XCIgZGF0YS1xdWVyeS1wcmVmaXg9XCIoJ3JkZjp0eXBlJz09J3YtczpEZXBhcnRtZW50JyAmJiAndi1zOnBhcmVudE9yZ2FuaXphdGlvbic9PSd7QC52LXM6cGFyZW50T3JnYW5pemF0aW9uLmlkfScpIHx8ICdAJz09J3tALnYtczpwYXJlbnRPcmdhbml6YXRpb24uaWR9J1wiIGRhdGEtdHlwZT1cImxpbmtcIiBjbGFzcz1cIi12aWV3IGVkaXQgc2VhcmNoIGZ1bGx0ZXh0IGRyb3Bkb3duXCI+PC92ZWRhLWNvbnRyb2w+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8c2VjdGlvbiBpZD1cIkVtcGxveWVlXCIgY2xhc3M9XCJoaWRlXCI+XG4gICAgICA8aDQgY2xhc3M9XCJzZWN0aW9uLWhlYWRlciAtdmlldyBlZGl0IHNlYXJjaFwiPlxuICAgICAgICA8c3BhbiBhYm91dD1cInYtczplbXBsb3llZVwiIHByb3BlcnR5PVwicmRmczpsYWJlbFwiPjwvc3Bhbj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCAtdmlldyBlZGl0IC1zZWFyY2hcIj5cbiAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0UGVyc29uQnRuXCIgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1wcmltYXJ5IG5hdmJhci1idG5cIj7QktGL0LHRgNCw0YLRjDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gaWQ9XCJjcmVhdGVQZXJzb25CdG5cIiBjbGFzcz1cImJ0biBidG4tc20gYnRuLWRlZmF1bHQgbmF2YmFyLWJ0blwiPtCh0L7Qt9C00LDRgtGMPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oND5cbiAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJvdyByb3ctYXR0cmlidXRlXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0zIGNvbC14cy01XCI+XG4gICAgICAgICAgICA8bGFiZWwgYWJvdXQ9XCJ2LXM6ZW1wbG95ZWVcIiBwcm9wZXJ0eT1cInJkZnM6bGFiZWxcIiBjbGFzcz1cInZpZXcgLWVkaXQgLXNlYXJjaFwiPjwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS05IGNvbC14cy03XCI+XG4gICAgICAgICAgICAgPGRpdiBpZD1cInNlbGVjdC1QZXJzb25cIiBjbGFzcz1cInZhbGlkYXRpbmctYmxvY2tcIj5cbiAgICAgICAgICAgICAgPGRpdiBhYm91dD1cIkBcIiByZWw9XCJ2LXM6ZW1wbG95ZWVcIiBjbGFzcz1cInZpZXcgLWVkaXQgLXNlYXJjaFwiIGRhdGEtdGVtcGxhdGU9XCJ2LXVpOkxhYmVsTGlua1RlbXBsYXRlXCI+PC9kaXY+XG4gICAgICAgICAgICAgIDx2ZWRhLWNvbnRyb2wgZGF0YS10eXBlPVwibGlua1wiIHJlbD1cInYtczplbXBsb3llZVwiIGNsYXNzPVwiZnVsbHRleHQgZHJvcGRvd24gbWFyZ2luLXNtIC12aWV3IGVkaXQgLXNlYXJjaFwiIGRhdGEtcXVlcnktcHJlZml4PVwiJ3JkZjp0eXBlJz09J3YtczpQZXJzb24nICYmICd2LXM6cGFyZW50T3JnYW5pemF0aW9uJz09J3tALnYtczpwYXJlbnRPcmdhbml6YXRpb24uaWR9J1wiPjwvdmVkYS1jb250cm9sPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGlkPVwiZmlsbC1QZXJzb25cIiBjbGFzcz1cInZhbGlkYXRpbmctYmxvY2tcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvc2VjdGlvbj5cbiAgICA8c2VjdGlvbiBpZD1cIlBvc2l0aW9uXCIgY2xhc3M9XCJoaWRlXCI+XG4gICAgICA8aDQgY2xhc3M9XCJzZWN0aW9uLWhlYWRlciAtdmlldyBlZGl0IHNlYXJjaFwiPlxuICAgICAgICA8c3BhbiBhYm91dD1cInYtczpQb3NpdGlvblwiIHByb3BlcnR5PVwicmRmczpsYWJlbFwiPjwvc3Bhbj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCAtdmlldyBlZGl0IC1zZWFyY2hcIj5cbiAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0T2NjdXBhdGlvbkJ0blwiIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tcHJpbWFyeSBuYXZiYXItYnRuXCI+0JLRi9Cx0YDQsNGC0Yw8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGlkPVwiY3JlYXRlT2NjdXBhdGlvbkJ0blwiIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCBuYXZiYXItYnRuXCI+0KHQvtC30LTQsNGC0Yw8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2g0PlxuICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicm93IHJvdy1hdHRyaWJ1dGVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTMgY29sLXhzLTVcIj5cbiAgICAgICAgICAgIDxsYWJlbCBhYm91dD1cInYtczpQb3NpdGlvblwiIHByb3BlcnR5PVwicmRmczpsYWJlbFwiIGNsYXNzPVwidmlldyAtZWRpdCAtc2VhcmNoXCI+PC9sYWJlbD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTkgY29sLXhzLTdcIj5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJzZWxlY3QtT2NjdXBhdGlvblwiIGNsYXNzPVwidmFsaWRhdGluZy1ibG9ja1wiPlxuICAgICAgICAgICAgICA8ZGl2IGFib3V0PVwiQFwiIHJlbD1cInYtczpvY2N1cGF0aW9uXCIgY2xhc3M9XCJ2aWV3IC1lZGl0IC1zZWFyY2hcIiBkYXRhLXRlbXBsYXRlPVwidi11aTpMYWJlbExpbmtUZW1wbGF0ZVwiPjwvZGl2PlxuICAgICAgICAgICAgICA8dmVkYS1jb250cm9sIGRhdGEtdHlwZT1cImxpbmtcIiByZWw9XCJ2LXM6b2NjdXBhdGlvblwiIGNsYXNzPVwiZnVsbHRleHQgZHJvcGRvd24gbWFyZ2luLXNtIC12aWV3IGVkaXQgLXNlYXJjaFwiIGRhdGEtcXVlcnktcHJlZml4PVwiJ3JkZjp0eXBlJz09J3YtczpQb3NpdGlvbicgJiYgJ3YtczpwYXJlbnRVbml0Jz09J3tALnYtczpwYXJlbnRVbml0LmlkfSdcIj48L3ZlZGEtY29udHJvbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBpZD1cImZpbGwtT2NjdXBhdGlvblwiIGNsYXNzPVwidmFsaWRhdGluZy1ibG9ja1wiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9zZWN0aW9uPlxuICAgIDxociBjbGFzcz1cIi12aWV3IGVkaXQgLXNlYXJjaFwiPlxuICAgIDxkaXYgaWQ9XCJyYWRpb0Jsb2NrXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwicm93IHJvdy1hdHRyaWJ1dGUgIC12aWV3IGVkaXQgLXNlYXJjaFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTMgY29sLXhzLTVcIj5cbiAgICAgICAgICA8bGFiZWwgYWJvdXQ9XCJ2LXM6RGVmYXVsdEFwcG9pbnRtZW50QnVuZGxlXCIgcHJvcGVydHk9XCJyZGZzOmxhYmVsXCI+PC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOSBjb2wteHMtN1wiPlxuICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmFkaW9cIj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8c2VjdGlvbiBpZD1cIkZvckFkbWluXCIgY2xhc3M9XCJub3RFZGl0Rm9yVXNlcnNcIj5cbiAgICAgIDxoNCBjbGFzcz1cInNlY3Rpb24taGVhZGVyIC12aWV3IGVkaXQgc2VhcmNoXCI+XG4gICAgICAgIDxzcGFuIGFib3V0PVwiY2ZnOkFkbWluaXN0cmF0b3JcIiBwcm9wZXJ0eT1cInJkZnM6bGFiZWxcIj48L3NwYW4+XG4gICAgICA8L2g0PlxuICAgICAgPGRpdiBjbGFzcz1cInJvdyByb3ctYXR0cmlidXRlXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMyBjb2wteHMtNVwiPlxuICAgICAgICAgIDxsYWJlbCBhYm91dD1cInYtczpkYXRlXCIgcHJvcGVydHk9XCJyZGZzOmxhYmVsXCI+PC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOSBjb2wteHMtN1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWlubGluZVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPHNwYW4gcHJvcGVydHk9XCJ2LXM6ZGF0ZUZyb21cIiBjbGFzcz1cInZpZXcgLWVkaXQgc2VhcmNoXCI+PC9zcGFuPlxuICAgICAgICAgICAgICA8dmVkYS1jb250cm9sIHByb3BlcnR5PVwidi1zOmRhdGVGcm9tXCIgZGF0YS10eXBlPVwiZGF0ZVwiIGNsYXNzPVwiLXZpZXcgZWRpdCBzZWFyY2hcIj48L3ZlZGEtY29udHJvbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ2aWV3IC1lZGl0IC1zZWFyY2hcIj4mbWRhc2g7Jm5ic3A7Jm5ic3A7Jm5ic3A7PC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPHNwYW4gcHJvcGVydHk9XCJ2LXM6ZGF0ZVRvXCIgY2xhc3M9XCJ2aWV3IC1lZGl0IHNlYXJjaFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHZlZGEtY29udHJvbCBwcm9wZXJ0eT1cInYtczpkYXRlVG9cIiBkYXRhLXR5cGU9XCJkYXRlXCIgY2xhc3M9XCItdmlldyBlZGl0IHNlYXJjaFwiPjwvdmVkYS1jb250cm9sPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgcm93LWF0dHJpYnV0ZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMyBjb2wteHMtNVwiPlxuICAgICAgICAgICAgPGxhYmVsIGFib3V0PVwidi1zOm9yaWdpblwiIHByb3BlcnR5PVwicmRmczpsYWJlbFwiPjwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS05IGNvbC14cy03XCI+XG4gICAgICAgICAgICA8ZGl2IHByb3BlcnR5PVwidi1zOm9yaWdpblwiIGNsYXNzPVwidmlldyAtZWRpdCBzZWFyY2hcIj48L2Rpdj5cbiAgICAgICAgICAgIDx2ZWRhLWNvbnRyb2wgcHJvcGVydHk9XCJ2LXM6b3JpZ2luXCIgZGF0YS10eXBlPVwic3RyaW5nXCIgY2xhc3M9XCItdmlldyBlZGl0IHNlYXJjaFwiPjwvdmVkYS1jb250cm9sPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJvdyByb3ctYXR0cmlidXRlXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0zIGNvbC14cy01XCI+XG4gICAgICAgICAgICA8bGFiZWwgYWJvdXQ9XCJ2LXM6cG9zaXRpb25DYXRlZ29yeVwiIHByb3BlcnR5PVwicmRmczpsYWJlbFwiPjwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS05IGNvbC14cy03XCI+XG4gICAgICAgICAgICA8ZGl2IHByb3BlcnR5PVwidi1zOnBvc2l0aW9uQ2F0ZWdvcnlcIiBjbGFzcz1cInZpZXcgLWVkaXQgLXNlYXJjaFwiPjwvZGl2PlxuICAgICAgICAgICAgPHZlZGEtY29udHJvbCBwcm9wZXJ0eT1cInYtczpwb3NpdGlvbkNhdGVnb3J5XCIgZGF0YS10eXBlPVwic3RyaW5nXCIgY2xhc3M9XCItdmlldyBlZGl0IHNlYXJjaFwiPjwvdmVkYS1jb250cm9sPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgcm93LWF0dHJpYnV0ZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMyBjb2wteHMtNVwiPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOSBjb2wteHMtN1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrYm94IG5vLW1hcmdpblwiPlxuICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgPHZlZGEtY29udHJvbCBwcm9wZXJ0eT1cInYtczpvZmZpY2lhbFwiIGRhdGEtdHlwZT1cImJvb2xlYW5cIj48L3ZlZGEtY29udHJvbD5cbiAgICAgICAgICAgICAgICA8c3BhbiBhYm91dD1cInYtczpvZmZpY2lhbFwiIHByb3BlcnR5PVwicmRmczpsYWJlbFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGhyPlxuICAgIDwvc2VjdGlvbj5cblxuICAgIDwhLS3QodC40YHRgtC10LzQvdGL0LUg0YHQstC+0LnRgdGC0LLQsCAtLT5cbiAgICA8ZGl2IGFib3V0PVwiQFwiIGRhdGEtdGVtcGxhdGU9XCJ2LXVpOlN5c3RlbVByb3BlcnRpZXNUZW1wbGF0ZVwiIGRhdGEtZW1iZWRkZWQ9XCJ0cnVlXCI+PC9kaXY+XG4gICAgPGJyPlxuICAgIDwhLS0gQlVUVE9OUyAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiYWN0aW9uc1wiPlxuICAgIDxzcGFuIGFib3V0PVwiQFwiIGRhdGEtdGVtcGxhdGU9XCJ2LXVpOlN0YW5kYXJkQnV0dG9uc1RlbXBsYXRlXCIgZGF0YS1lbWJlZGRlZD1cInRydWVcIiBkYXRhLWJ1dHRvbnM9XCJlZGl0IHNhdmUgY2FuY2VsIGRlbGV0ZVwiPjwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbmA7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O01BQU9BLENBQUMsR0FBQUMsT0FBQSxDQUFBQyxPQUFBO0lBQUEsYUFBQUMsZUFBQTtNQUNEQyxJQUFJLEdBQUFELGVBQUEsQ0FBQUQsT0FBQTtJQUFBLGFBQUFHLDJCQUFBO01BQ0pD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