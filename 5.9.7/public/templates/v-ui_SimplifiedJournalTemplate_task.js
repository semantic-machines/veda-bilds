"use strict";

System.register(["/js/browser/util.js", "jquery", "/js/common/veda.js", "/js/common/individual_model.js"], function (_export, _context) {
  "use strict";

  var BrowserUtil, $, veda, IndividualModel, pre, html;
  return {
    setters: [function (_jsBrowserUtilJs) {
      BrowserUtil = _jsBrowserUtilJs.default;
    }, function (_jquery) {
      $ = _jquery.default;
    }, function (_jsCommonVedaJs) {
      veda = _jsCommonVedaJs.default;
    }, function (_jsCommonIndividual_modelJs) {
      IndividualModel = _jsCommonIndividual_modelJs.default;
    }],
    execute: function () {
      _export("pre", pre = function pre(individual, template, container, mode, extra) {
        template = $(template);
        container = $(container);
        if (individual.hasValue('v-wf:isCompleted', true)) {
          template.children().first().addClass('success');
          $('.docflow-buttons', template).remove();
        } else if (individual.hasValue('v-wf:isEditable', false)) {
          $('.docflow-buttons', template).remove();
        } else {
          var isDirectTask = individual.hasValue('v-wf:isDirectTask', true);
          if (isDirectTask) {
            var currentEmployee = veda.appointment['v-s:employee'][0];
            var currentOcuppation = veda.appointment['v-s:occupation'][0];
            var targetEmployee = individual['v-wf:from'][0];
            var targetOccupation = individual['v-wf:from'][1];
            var canRevoke = currentEmployee === targetEmployee || currentOcuppation === targetOccupation;
            var isMemberOccupation_Promise = veda.user.isMemberOf(targetOccupation.id);
            var promises = [isMemberOccupation_Promise, veda.user.isMemberOf('cfg:SuperUser')];
            Promise.all(promises).then(function (result) {
              var isMemberOccupation = result[0];
              var isMemberSuperUser = result[1];
              if (canRevoke || isMemberSuperUser || isMemberOccupation) {
                $('.docflow-buttons', template).show();
                $('.redirect', template).click(takeDecision.bind(null, 'v-wf:DecisionRedirect', 'Перенаправлено'));
                $('.revoke', template).click(takeDecision.bind(null, 'v-wf:DecisionRevokeTask', 'Задача отозвана'));
              } else {
                $('.docflow-buttons', template).remove();
              }
            });
          } else {
            $('.docflow-buttons', template).remove();
          }
        }

        // TODO: refactor this
        if (!individual.hasValue('v-wf:redirect_from_task') || individual.hasValue('v-wf:redirect_from_task', 's-wf:EmptyTask')) {
          $('.is-redirected', template).remove();
        }
        function takeDecision(takenDecision, label) {
          var decisionClass = new IndividualModel(takenDecision);
          var decision = new IndividualModel();
          decision['rdf:type'] = [decisionClass];
          decision['v-s:backwardTarget'] = [individual];
          decision['rdfs:label'] = [label];
          decision['v-s:backwardProperty'] = [new IndividualModel('v-wf:takenDecision')];
          decision['v-s:canRead'] = [true];
          var modal = BrowserUtil.showModal(decision, undefined, 'edit');
          decision.one('afterReset', function () {
            modal.modal('hide').remove();
          });
          decision.one('afterSave', function () {
            modal.modal('hide').remove();
            $('.docflow-buttons', template).hide();
          });
        }
      });
      _export("html", html = "\n  <tr>\n    <td class=\"sequence-number\"></td>\n    <td>\n      <div about=\"@\" rel=\"v-wf:from\" data-template=\"v-ui:LabelTemplate\"></div>\n      <div about=\"@\" rel=\"v-wf:redirect_from_task\" class=\"is-redirected\">\n        <div>\n          <strong><small about=\"v-s:TaskIsRedirectedFrom\" property=\"rdfs:label\"></small></strong>\n          <small about=\"@\" rel=\"v-wf:to\" data-template=\"v-ui:LabelTemplate\"></small>\n        </div>\n      </div>\n    </td>\n    <td about=\"@\" rel=\"v-wf:to\" data-template=\"v-ui:LabelTemplate\"></td>\n    <td>\n      <a href=\"#/@\" about=\"@\" property=\"rdfs:label\"></a>\n      <div about=\"@\" property=\"v-s:description\" style=\"white-space: pre-line;\"></div>\n    </td>\n    <td about=\"@\" property=\"v-s:created\"></td>\n    <td>\n      <div about=\"@\" rel=\"v-wf:takenDecision\">\n        <div>\n          <strong about=\"@\" property=\"rdfs:label\"></strong>\n          <span about=\"@\" rel=\"v-wf:to\">\n            <span>\n              <span>&rarr;</span>\n              <span about=\"@\" data-template=\"v-ui:LabelTemplate\"></span>\n            </span>\n          </span>\n          <div><i about=\"@\" property=\"rdfs:comment\"></i></div>\n          <hr class=\"margin-sm\" />\n          <small about=\"@\" rel=\"v-s:creator\" data-template=\"v-ui:LabelTemplate\"></small> &middot; <small aboout=\"@\" property=\"v-s:created\"></small>\n        </div>\n      </div>\n      <div class=\"docflow-buttons\" style=\"display:none\">\n        <button class=\"btn btn-sm btn-warning redirect\" about=\"v-wf:DecisionRedirect_Bundle\" property=\"rdfs:label\"></button>\n        <button class=\"btn btn-sm btn-info revoke\" about=\"v-wf:DecisionRevoke_Bundle\" property=\"rdfs:label\"></button>\n      </div>\n    </td>\n  </tr>\n");
    }
  };
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCcm93c2VyVXRpbCIsIl9qc0Jyb3dzZXJVdGlsSnMiLCJkZWZhdWx0IiwiX2pxdWVyeSIsIiQiLCJfanNDb21tb25WZWRhSnMiLCJ2ZWRhIiwiX2pzQ29tbW9uSW5kaXZpZHVhbF9tb2RlbEpzIiwiSW5kaXZpZHVhbE1vZGVsIiwiZXhlY3V0ZSIsIl9leHBvcnQiLCJwcmUiLCJpbmRpdmlkdWFsIiwidGVtcGxhdGUiLCJjb250YWluZXIiLCJtb2RlIiwiZXh0cmEiLCJoYXNWYWx1ZSIsImNoaWxkcmVuIiwiZmlyc3QiLCJhZGRDbGFzcyIsInJlbW92ZSIsImlzRGlyZWN0VGFzayIsImN1cnJlbnRFbXBsb3llZSIsImFwcG9pbnRtZW50IiwiY3VycmVudE9jdXBwYXRpb24iLCJ0YXJnZXRFbXBsb3llZSIsInRhcmdldE9jY3VwYXRpb24iLCJjYW5SZXZva2UiLCJpc01lbWJlck9jY3VwYXRpb25fUHJvbWlzZSIsInVzZXIiLCJpc01lbWJlck9mIiwiaWQiLCJwcm9taXNlcyIsIlByb21pc2UiLCJhbGwiLCJ0aGVuIiwicmVzdWx0IiwiaXNNZW1iZXJPY2N1cGF0aW9uIiwiaXNNZW1iZXJTdXBlclVzZXIiLCJzaG93IiwiY2xpY2siLCJ0YWtlRGVjaXNpb24iLCJiaW5kIiwidGFrZW5EZWNpc2lvbiIsImxhYmVsIiwiZGVjaXNpb25DbGFzcyIsImRlY2lzaW9uIiwibW9kYWwiLCJzaG93TW9kYWwiLCJ1bmRlZmluZWQiLCJvbmUiLCJoaWRlIiwiaHRtbCJdLCJzb3VyY2VzIjpbIi4uLy4uL29udG9sb2d5L3N5c3RlbS1jb3JlL3RlbXBsYXRlcy92LXVpX1NpbXBsaWZpZWRKb3VybmFsVGVtcGxhdGVfdGFzay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQnJvd3NlclV0aWwgZnJvbSAnL2pzL2Jyb3dzZXIvdXRpbC5qcyc7XG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHZlZGEgZnJvbSAnL2pzL2NvbW1vbi92ZWRhLmpzJztcbmltcG9ydCBJbmRpdmlkdWFsTW9kZWwgZnJvbSAnL2pzL2NvbW1vbi9pbmRpdmlkdWFsX21vZGVsLmpzJztcblxuZXhwb3J0IGNvbnN0IHByZSA9IGZ1bmN0aW9uIChpbmRpdmlkdWFsLCB0ZW1wbGF0ZSwgY29udGFpbmVyLCBtb2RlLCBleHRyYSkge1xuICB0ZW1wbGF0ZSA9ICQodGVtcGxhdGUpO1xuICBjb250YWluZXIgPSAkKGNvbnRhaW5lcik7XG5cbiAgaWYgKGluZGl2aWR1YWwuaGFzVmFsdWUoJ3Ytd2Y6aXNDb21wbGV0ZWQnLCB0cnVlKSkge1xuICAgIHRlbXBsYXRlLmNoaWxkcmVuKCkuZmlyc3QoKS5hZGRDbGFzcygnc3VjY2VzcycpO1xuICAgICQoJy5kb2NmbG93LWJ1dHRvbnMnLCB0ZW1wbGF0ZSkucmVtb3ZlKCk7XG4gIH0gZWxzZSBpZiAoaW5kaXZpZHVhbC5oYXNWYWx1ZSgndi13Zjppc0VkaXRhYmxlJywgZmFsc2UpKSB7XG4gICAgJCgnLmRvY2Zsb3ctYnV0dG9ucycsIHRlbXBsYXRlKS5yZW1vdmUoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBpc0RpcmVjdFRhc2sgPSBpbmRpdmlkdWFsLmhhc1ZhbHVlKCd2LXdmOmlzRGlyZWN0VGFzaycsIHRydWUpO1xuICAgIGlmIChpc0RpcmVjdFRhc2spIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRFbXBsb3llZSA9IHZlZGEuYXBwb2ludG1lbnRbJ3YtczplbXBsb3llZSddWzBdO1xuICAgICAgY29uc3QgY3VycmVudE9jdXBwYXRpb24gPSB2ZWRhLmFwcG9pbnRtZW50Wyd2LXM6b2NjdXBhdGlvbiddWzBdO1xuICAgICAgY29uc3QgdGFyZ2V0RW1wbG95ZWUgPSBpbmRpdmlkdWFsWyd2LXdmOmZyb20nXVswXTtcbiAgICAgIGNvbnN0IHRhcmdldE9jY3VwYXRpb24gPSBpbmRpdmlkdWFsWyd2LXdmOmZyb20nXVsxXTtcbiAgICAgIGNvbnN0IGNhblJldm9rZSA9IGN1cnJlbnRFbXBsb3llZSA9PT0gdGFyZ2V0RW1wbG95ZWUgfHwgY3VycmVudE9jdXBwYXRpb24gPT09IHRhcmdldE9jY3VwYXRpb247XG4gICAgICBjb25zdCBpc01lbWJlck9jY3VwYXRpb25fUHJvbWlzZSA9IHZlZGEudXNlci5pc01lbWJlck9mKHRhcmdldE9jY3VwYXRpb24uaWQpO1xuICAgICAgY29uc3QgcHJvbWlzZXMgPSBbaXNNZW1iZXJPY2N1cGF0aW9uX1Byb21pc2UsIHZlZGEudXNlci5pc01lbWJlck9mKCdjZmc6U3VwZXJVc2VyJyldO1xuICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgY29uc3QgaXNNZW1iZXJPY2N1cGF0aW9uID0gcmVzdWx0WzBdO1xuICAgICAgICBjb25zdCBpc01lbWJlclN1cGVyVXNlciA9IHJlc3VsdFsxXTtcbiAgICAgICAgaWYgKGNhblJldm9rZSB8fCBpc01lbWJlclN1cGVyVXNlciB8fCBpc01lbWJlck9jY3VwYXRpb24pIHtcbiAgICAgICAgICAkKCcuZG9jZmxvdy1idXR0b25zJywgdGVtcGxhdGUpLnNob3coKTtcbiAgICAgICAgICAkKCcucmVkaXJlY3QnLCB0ZW1wbGF0ZSkuY2xpY2sodGFrZURlY2lzaW9uLmJpbmQobnVsbCwgJ3Ytd2Y6RGVjaXNpb25SZWRpcmVjdCcsICfQn9C10YDQtdC90LDQv9GA0LDQstC70LXQvdC+JykpO1xuICAgICAgICAgICQoJy5yZXZva2UnLCB0ZW1wbGF0ZSkuY2xpY2sodGFrZURlY2lzaW9uLmJpbmQobnVsbCwgJ3Ytd2Y6RGVjaXNpb25SZXZva2VUYXNrJywgJ9CX0LDQtNCw0YfQsCDQvtGC0L7Qt9Cy0LDQvdCwJykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoJy5kb2NmbG93LWJ1dHRvbnMnLCB0ZW1wbGF0ZSkucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5kb2NmbG93LWJ1dHRvbnMnLCB0ZW1wbGF0ZSkucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogcmVmYWN0b3IgdGhpc1xuICBpZiAoIWluZGl2aWR1YWwuaGFzVmFsdWUoJ3Ytd2Y6cmVkaXJlY3RfZnJvbV90YXNrJykgfHwgaW5kaXZpZHVhbC5oYXNWYWx1ZSgndi13ZjpyZWRpcmVjdF9mcm9tX3Rhc2snLCAncy13ZjpFbXB0eVRhc2snKSkge1xuICAgICQoJy5pcy1yZWRpcmVjdGVkJywgdGVtcGxhdGUpLnJlbW92ZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGFrZURlY2lzaW9uICh0YWtlbkRlY2lzaW9uLCBsYWJlbCkge1xuICAgIGNvbnN0IGRlY2lzaW9uQ2xhc3MgPSBuZXcgSW5kaXZpZHVhbE1vZGVsKHRha2VuRGVjaXNpb24pO1xuICAgIGNvbnN0IGRlY2lzaW9uID0gbmV3IEluZGl2aWR1YWxNb2RlbCgpO1xuICAgIGRlY2lzaW9uWydyZGY6dHlwZSddID0gW2RlY2lzaW9uQ2xhc3NdO1xuICAgIGRlY2lzaW9uWyd2LXM6YmFja3dhcmRUYXJnZXQnXSA9IFtpbmRpdmlkdWFsXTtcbiAgICBkZWNpc2lvblsncmRmczpsYWJlbCddID0gW2xhYmVsXTtcbiAgICBkZWNpc2lvblsndi1zOmJhY2t3YXJkUHJvcGVydHknXSA9IFtuZXcgSW5kaXZpZHVhbE1vZGVsKCd2LXdmOnRha2VuRGVjaXNpb24nKV07XG4gICAgZGVjaXNpb25bJ3YtczpjYW5SZWFkJ10gPSBbdHJ1ZV07XG4gICAgY29uc3QgbW9kYWwgPSBCcm93c2VyVXRpbC5zaG93TW9kYWwoZGVjaXNpb24sIHVuZGVmaW5lZCwgJ2VkaXQnKTtcblxuICAgIGRlY2lzaW9uLm9uZSgnYWZ0ZXJSZXNldCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIG1vZGFsLm1vZGFsKCdoaWRlJykucmVtb3ZlKCk7XG4gICAgfSk7XG4gICAgZGVjaXNpb24ub25lKCdhZnRlclNhdmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBtb2RhbC5tb2RhbCgnaGlkZScpLnJlbW92ZSgpO1xuICAgICAgJCgnLmRvY2Zsb3ctYnV0dG9ucycsIHRlbXBsYXRlKS5oaWRlKCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBodG1sID0gYFxuICA8dHI+XG4gICAgPHRkIGNsYXNzPVwic2VxdWVuY2UtbnVtYmVyXCI+PC90ZD5cbiAgICA8dGQ+XG4gICAgICA8ZGl2IGFib3V0PVwiQFwiIHJlbD1cInYtd2Y6ZnJvbVwiIGRhdGEtdGVtcGxhdGU9XCJ2LXVpOkxhYmVsVGVtcGxhdGVcIj48L2Rpdj5cbiAgICAgIDxkaXYgYWJvdXQ9XCJAXCIgcmVsPVwidi13ZjpyZWRpcmVjdF9mcm9tX3Rhc2tcIiBjbGFzcz1cImlzLXJlZGlyZWN0ZWRcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8c3Ryb25nPjxzbWFsbCBhYm91dD1cInYtczpUYXNrSXNSZWRpcmVjdGVkRnJvbVwiIHByb3BlcnR5PVwicmRmczpsYWJlbFwiPjwvc21hbGw+PC9zdHJvbmc+XG4gICAgICAgICAgPHNtYWxsIGFib3V0PVwiQFwiIHJlbD1cInYtd2Y6dG9cIiBkYXRhLXRlbXBsYXRlPVwidi11aTpMYWJlbFRlbXBsYXRlXCI+PC9zbWFsbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L3RkPlxuICAgIDx0ZCBhYm91dD1cIkBcIiByZWw9XCJ2LXdmOnRvXCIgZGF0YS10ZW1wbGF0ZT1cInYtdWk6TGFiZWxUZW1wbGF0ZVwiPjwvdGQ+XG4gICAgPHRkPlxuICAgICAgPGEgaHJlZj1cIiMvQFwiIGFib3V0PVwiQFwiIHByb3BlcnR5PVwicmRmczpsYWJlbFwiPjwvYT5cbiAgICAgIDxkaXYgYWJvdXQ9XCJAXCIgcHJvcGVydHk9XCJ2LXM6ZGVzY3JpcHRpb25cIiBzdHlsZT1cIndoaXRlLXNwYWNlOiBwcmUtbGluZTtcIj48L2Rpdj5cbiAgICA8L3RkPlxuICAgIDx0ZCBhYm91dD1cIkBcIiBwcm9wZXJ0eT1cInYtczpjcmVhdGVkXCI+PC90ZD5cbiAgICA8dGQ+XG4gICAgICA8ZGl2IGFib3V0PVwiQFwiIHJlbD1cInYtd2Y6dGFrZW5EZWNpc2lvblwiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxzdHJvbmcgYWJvdXQ9XCJAXCIgcHJvcGVydHk9XCJyZGZzOmxhYmVsXCI+PC9zdHJvbmc+XG4gICAgICAgICAgPHNwYW4gYWJvdXQ9XCJAXCIgcmVsPVwidi13Zjp0b1wiPlxuICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgIDxzcGFuPiZyYXJyOzwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gYWJvdXQ9XCJAXCIgZGF0YS10ZW1wbGF0ZT1cInYtdWk6TGFiZWxUZW1wbGF0ZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPGRpdj48aSBhYm91dD1cIkBcIiBwcm9wZXJ0eT1cInJkZnM6Y29tbWVudFwiPjwvaT48L2Rpdj5cbiAgICAgICAgICA8aHIgY2xhc3M9XCJtYXJnaW4tc21cIiAvPlxuICAgICAgICAgIDxzbWFsbCBhYm91dD1cIkBcIiByZWw9XCJ2LXM6Y3JlYXRvclwiIGRhdGEtdGVtcGxhdGU9XCJ2LXVpOkxhYmVsVGVtcGxhdGVcIj48L3NtYWxsPiAmbWlkZG90OyA8c21hbGwgYWJvb3V0PVwiQFwiIHByb3BlcnR5PVwidi1zOmNyZWF0ZWRcIj48L3NtYWxsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImRvY2Zsb3ctYnV0dG9uc1wiIHN0eWxlPVwiZGlzcGxheTpub25lXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi13YXJuaW5nIHJlZGlyZWN0XCIgYWJvdXQ9XCJ2LXdmOkRlY2lzaW9uUmVkaXJlY3RfQnVuZGxlXCIgcHJvcGVydHk9XCJyZGZzOmxhYmVsXCI+PC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1pbmZvIHJldm9rZVwiIGFib3V0PVwidi13ZjpEZWNpc2lvblJldm9rZV9CdW5kbGVcIiBwcm9wZXJ0eT1cInJkZnM6bGFiZWxc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